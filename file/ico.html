<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>12&nbsp;ICO File Reading and Writing</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">File:<span class="mywbr"> &nbsp;</span> Racket File and Format Libraries</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="convertible.html" class="tocviewlink" data-pltdoc="x">Convertible:<span class="mywbr"> &nbsp;</span> Data-<wbr></wbr>Conversion Protocol</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="gzip.html" class="tocviewlink" data-pltdoc="x"><span class="stt">gzip</span> Compression and File Creation</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="gunzip.html" class="tocviewlink" data-pltdoc="x"><span class="stt">gzip</span> Decompression</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="zip.html" class="tocviewlink" data-pltdoc="x"><span class="stt">zip</span> File Creation</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="unzip.html" class="tocviewlink" data-pltdoc="x"><span class="stt">zip</span> File Extraction</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="tar.html" class="tocviewlink" data-pltdoc="x"><span class="stt">tar</span> File Creation</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="untar.html" class="tocviewlink" data-pltdoc="x"><span class="stt">tar</span> File Extraction</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="untgz.html" class="tocviewlink" data-pltdoc="x"><span class="stt">tar</span>+<span class="stt">gzip</span> File Extraction</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="md5.html" class="tocviewlink" data-pltdoc="x">MD5 Message Digest</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="sha1b.html" class="tocviewlink" data-pltdoc="x">SHA1 Message Digest</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="gif.html" class="tocviewlink" data-pltdoc="x">GIF File Writing</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">ICO File Reading and Writing</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="resource.html" class="tocviewlink" data-pltdoc="x">Windows Registry</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="cache.html" class="tocviewlink" data-pltdoc="x">Caching</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="glob.html" class="tocviewlink" data-pltdoc="x">Globbing</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-width%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>width</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-height%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>height</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-depth%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>depth</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-format%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>format</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._read-icos%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>icos</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._read-icos-from-exe%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>icos-<wbr></wbr>from-<wbr></wbr>exe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._write-icos%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>icos</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._replace-icos%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">replace-<wbr></wbr>icos</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._replace-all-icos%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">replace-<wbr></wbr>all-<wbr></wbr>icos</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-~3eargb%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>&gt;argb</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-~3epng-bytes%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ico-<wbr></wbr>&gt;png-<wbr></wbr>bytes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._argb-~3eico%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">argb-<wbr></wbr>&gt;ico</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._file%2Fico..rkt%29._png-bytes-~3eico%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">png-<wbr></wbr>bytes-<wbr></wbr>&gt;ico</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="gif.html" title="后退至&quot;11 GIF File Writing&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;File: Racket File and Format Libraries&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="resource.html" title="前进至&quot;13 Windows Registry&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;file/scribblings/file.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;ico&quot;">12<tt>&nbsp;</tt><a name="(part._ico)"></a><a name="(mod-path._file/ico)"></a>ICO File Reading and Writing</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">file/ico</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package&#65306;</span> <a href="https://pkgs.racket-lang.org/package/base" title="使用“raco pkg install base”安装此包"><span class="stt">base</span></a></span></td></tr></table></p><p>The <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">file/ico</span></a> library provides functions for reading
and writing <span class="stt">".ico"</span> files, which contain one or more icons.
Each icon is up to 256 by 256 pixels, has a particular depth (i.e.,
bits per pixel used to represent a color), and mask (i.e., whether a
pixel is shown, except that the mask may be ignored for 32-bit icons
that have an alpha value per pixel). The library also provides support
for reading and writing icons in Windows executables.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico~3f))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> represents an icon, <span class="RktVal">#f</span>
otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-width))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-width%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-width</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-height))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-height%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-height</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-depth))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-depth%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-depth</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._one-of%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">one-of/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">16</span><span class="hspace">&nbsp;</span><span class="RktVal">24</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns the width or height of an icon in pixels, or the depth in bits per
pixel.</div></p><p class="SHistory">&#20462;&#25913;&#20110;package <span class="stt">base</span>&#30340;6.3&#29256;&#26412;&#65306;A PNG-format icon can have a
       width or height greater than 256.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-format))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-format%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-format</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">bmp</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">png</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Reports the format of the icon.</div></p><p class="SHistory">&#28155;&#21152;&#20110;package <span class="stt">base</span>&#30340;6.3&#29256;&#26412;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._read-icos))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._read-icos%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-icos</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">src</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">src</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Parses <span class="RktVar">src</span> as an <span class="stt">".ico"</span> to extract a list of icons.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._read-icos-from-exe))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._read-icos-from-exe%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-icos-from-exe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">src</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">src</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Parses <span class="RktVar">src</span> as an <span class="stt">".exe"</span> to extract the list of
icons that represent the Windows executable.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._write-icos))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._write-icos%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-icos</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span><span class="RktVar">dest</span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:exists</span><span class="hspace">&nbsp;</span><span class="RktVar">exists</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dest</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">exists</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">append</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">update</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">can-update</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">replace</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">must-truncate</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate/replace</span><span class="RktPn">)</span></td></tr></table></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">error</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Writes each icon in <span class="RktVar">icos</span> to <span class="RktVar">dest</span> as an
<span class="stt">".ico"</span> file. If <span class="RktVar">dest</span> is not an output port,
<span class="RktVar">exists</span> is passed on to <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=file-ports.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._open-output-file%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">open-output-file</a></span> to open
<span class="RktVar">dest</span> for writing.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._replace-icos))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._replace-icos%29%29" class="RktValDef RktValLink" data-pltdoc="x">replace-icos</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span><span class="RktVar">dest</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dest</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Writes icons in <span class="RktVar">icos</span> to replace icons in <span class="RktVar">dest</span> as an
Windows executable. Only existing icon sizes and depths in the
executable are replaced, and only when the encoding sizes match.
Best matches for the existing sizes and
depth are drawn from <span class="RktVar">icos</span> (adjusting the scale and depth of a
best match as necessary).</div></p><p>Use <span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._replace-all-icos%29%29" class="RktValLink" data-pltdoc="x">replace-all-icos</a></span>, instead, to replace a set of icons
wholesale, especially when the set include PNG-format icons.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._replace-all-icos))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._replace-all-icos%29%29" class="RktValDef RktValLink" data-pltdoc="x">replace-all-icos</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span><span class="RktVar">dest</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">icos</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dest</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._path-string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._output-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">output-port?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Replaces the icon set in the executable <span class="RktVar">dest</span> with the given
set of icons.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-~3eargb))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-~3eargb%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-&gt;argb</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Converts an icon in BMP format (see <span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-format%29%29" class="RktValLink" data-pltdoc="x">ico-format</a></span>)
to an ARGB byte string, which has the icon&rsquo;s pixels
in left-to-right, top-to-bottom order, with four bytes (alpha, red,
green, and blue channels) for each pixel.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._ico-~3epng-bytes))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-~3epng-bytes%29%29" class="RktValDef RktValLink" data-pltdoc="x">ico-&gt;png-bytes</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ico</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ico</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the bytes of a PNG encoding for an icon in PNG format (see
<span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-format%29%29" class="RktValLink" data-pltdoc="x">ico-format</a></span>).</div></p><p class="SHistory">&#28155;&#21152;&#20110;package <span class="stt">base</span>&#30340;6.3&#29256;&#26412;&#12290;</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._argb-~3eico))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._argb-~3eico%29%29" class="RktValDef RktValLink" data-pltdoc="x">argb-&gt;ico</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span><span class="RktVar">height</span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:depth</span><span class="hspace">&nbsp;</span><span class="RktVar">depth</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._integer-in%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">256</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">height</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._integer-in%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">256</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._one-of%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">one-of/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">24</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">32</span></td></tr></table></blockquote></div><div class="SIntrapara">Converts an ARGB byte string (in the same format as from
<span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico-~3eargb%29%29" class="RktValLink" data-pltdoc="x">ico-&gt;argb</a></span>) to an icon of the given width, height, and depth
in BMP format.</div></p><p>The <span class="RktVar">bstr</span> argument must have a length <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVar">width</span><span class="stt"> </span><span class="RktVar">height</span><span class="RktPn">)</span>,
and <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktVar">width</span><span class="stt"> </span><span class="RktVar">depth</span><span class="RktPn">)</span> must be a multiple of 8.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._file/ico..rkt)._png-bytes-~3eico))"></a><span title="提供自：file/ico | 包：base"><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._png-bytes-~3eico%29%29" class="RktValDef RktValLink" data-pltdoc="x">png-bytes-&gt;ico</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bstr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._file%2Fico..rkt%29._ico~3f%29%29" class="RktValLink" data-pltdoc="x">ico?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bstr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Wraps the given PNG encoding as a PNG-encoded icon.</div></p><p class="SHistory">&#28155;&#21152;&#20110;package <span class="stt">base</span>&#30340;6.3&#29256;&#26412;&#12290;</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="gif.html" title="后退至&quot;11 GIF File Writing&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;File: Racket File and Format Libraries&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="resource.html" title="前进至&quot;13 Windows Registry&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>