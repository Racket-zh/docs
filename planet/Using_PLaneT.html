<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1&nbsp;Using PLaneT</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">PLane<span class="mywbr"> &nbsp;</span>T:<span class="mywbr"> &nbsp;</span> Automatic Package Distribution</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Using PLane<span class="mywbr"> &nbsp;</span>T</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="search-order.html" class="tocviewlink" data-pltdoc="x">The PLane<span class="mywbr"> &nbsp;</span>T Search Order</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="cmdline.html" class="tocviewlink" data-pltdoc="x">The <span class="stt">raco planet</span> Command-<wbr></wbr>Line Tool</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="hash-lang-planet.html" class="tocviewlink" data-pltdoc="x">The <span class="RktModLink"><span class="RktSym">planet</span></span> Language</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Utility_Libraries.html" class="tocviewlink" data-pltdoc="x">Utility Libraries</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Developing_Packages_for_PLaneT.html" class="tocviewlink" data-pltdoc="x">Developing Packages for PLane<span class="mywbr"> &nbsp;</span>T</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Using PLane<span class="mywbr"> &nbsp;</span>T</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._finding-a-package%29" class="tocviewlink" data-pltdoc="x">Finding a Package</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="#%28part._.Shorthand_.Syntax%29" class="tocviewlink" data-pltdoc="x">Shorthand Syntax</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="#%28part._.Networking_troubles%29" class="tocviewlink" data-pltdoc="x">Networking troubles</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="#%28part._.Fine-.Grained_.Control_.Over_.Package_.Imports%29" class="tocviewlink" data-pltdoc="x">Fine-<wbr></wbr>Grained Control Over Package Imports</a></td></tr><tr><td align="right">1.5&nbsp;</td><td><a href="#%28part._.Monitoring_.P.Lane.T_s_progress%29" class="tocviewlink" data-pltdoc="x">Monitoring PLane<span class="mywbr"> &nbsp;</span>T&rsquo;s progress</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._finding-a-package%29" class="tocsubseclink" data-pltdoc="x">Finding a Package</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Shorthand_.Syntax%29" class="tocsubseclink" data-pltdoc="x">Shorthand Syntax</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Networking_troubles%29" class="tocsubseclink" data-pltdoc="x">Networking troubles</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Fine-.Grained_.Control_.Over_.Package_.Imports%29" class="tocsubseclink" data-pltdoc="x">Fine-<wbr></wbr>Grained Control Over Package Imports</a></td></tr><tr><td><span class="tocsublinknumber">1.5<tt>&nbsp;</tt></span><a href="#%28part._.Monitoring_.P.Lane.T_s_progress%29" class="tocsubseclink" data-pltdoc="x">Monitoring PLane<span class="mywbr"> &nbsp;</span>T&rsquo;s progress</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="后退至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="search-order.html" title="前进至&quot;2 The PLaneT Search Order&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Using_PLaneT&quot;">1<tt>&nbsp;</tt><a name="(part._.Using_.P.Lane.T)"></a>Using PLaneT</h3><p>To use a <span class="planetName">PLaneT</span> package in a program, require it using the
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span> <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span> form (see <a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html&amp;version=7.0.0.18" class="Sq" data-pltdoc="x">Importing and Exporting: <span class="RktSym"><span class="RktStxLink">require</span></span> and <span class="RktSym"><span class="RktStxLink">provide</span></span></a> for a full reference
on the features of the <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span> statement in general and the
exact allowed grammar of PLaneT require statements). Here we explain
how to use PLaneT by example.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;finding-a-package&quot;">1.1<tt>&nbsp;</tt><a name="(part._finding-a-package)"></a>Finding a Package</h4><p>If you are new to PLaneT, the first thing to do is visit
<a href="http://planet.racket-lang.org/">the PLaneT repository web site</a>
and see what packages are available. People contribute new PLaneT
packages all the time &#8212;<wbr></wbr> if you want to be notified whenever a new or
updated package is released, you can subscribe to the
(announcement-only)
<a href="http://lists.racket-lang.org/planet-announce/">PLaneT-announce mailing list</a>
or use an RSS reader to subscribe to
<a href="http://planet.racket-lang.org/300/planet.rss">PLaneT&rsquo;s RSS feed</a>.</p><p>To use a package from PLaneT in your program, the easiest thing to do
is copy the <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span> code snippet off of that package&rsquo;s page
and paste it ino your program. For instance, to use Schematics&rsquo;
<a href="http://planet.racket-lang.org/users/schematics/spgsql.plt">spgsql.plt</a>
package (a library for interacting with the
<a href="http://www.postgresql.org/">PostgresQL</a> database), as of this
writing you would copy and paste the line:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.rkt"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"schematics"</span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>into your program. This line requires the file <span class="stt">"spgsql.rkt"</span> in package
version 2.3 of the <span class="stt">"spgsql.plt"</span> package written by
<span class="stt">"schematics"</span>. That does two things: first, it downloads and
installs a version of <span class="stt">"spgsql.plt"</span> that is compatible with
package version 2.3 from <a href="http://planet.racket-lang.org/">the
central PLaneT repository</a> if a compatible version hasn&rsquo;t already been
installed. Second, it requires the module in file <span class="stt">"spgsql.rkt"</span>
from that package, making all of its exported bindings available for use.</p><p>Unlike with most package-distribution systems, package downloading and
installation in PLaneT is <span style="font-family: 楷体">transparent</span>: there&rsquo;s no need for
you to do anything special the first time you want to use a package,
and there&rsquo;s no need for you to even know whether or not a particular
package is installed on your computer or the computers where your code
will be deployed.</p><p><div class="SIntrapara">If you want to find all of the latest versions of the
packages that planet has available, visit
</div><div class="SIntrapara"><blockquote class="SCentered"><p><a href="http://planet.racket-lang.org/servlets/pkg-info.ss"><span class="url">http://planet.racket-lang.org/servlets/pkg-info.ss</span></a></p></blockquote></div><div class="SIntrapara">It returns a list matching the contract
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Each sublist represents
the latest version of one of the packages and contains the
userid, the package name (including ".plt"), and
the version (major and minor numbers).</div></p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Shorthand_Syntax&quot;">1.2<tt>&nbsp;</tt><a name="(part._.Shorthand_.Syntax)"></a>Shorthand Syntax</h4><p>The code snippet above can also be written using a new shorter syntax:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">schematics/spgsql:2:3/spgsql</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>The two forms behave identically. In the abbreviated syntax, however,
it is illegal to write the trailing <span class="stt">".rkt"</span> suffix on the file
name to be required or the trailing <span class="stt">".plt"</span> on the package file
name. (They are mandatory for the long-form syntax.) It is also legal
in the abbreviated syntax to omit a filename to be required entirely;
in that case, PLaneT requires the file <span class="stt">"main.rkt"</span> in the given
package.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Networking_troubles&quot;">1.3<tt>&nbsp;</tt><a name="(part._.Networking_troubles)"></a>Networking troubles</h4><p>Sometimes, when PLaneT tries to download and install a
package for the first time, your operating system may block
it from access to the network. If you are uncomfortable
giving DrRacket free access to the network (or if your
attempts to do so do not seem to work), then you can use
your browser to manually install a planet package.</p><p><div class="SIntrapara">To see how this works, lets assume you want to install the PLAI package
and </div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">plai/plai:1</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"> is not working for you.
</div><div class="SIntrapara"><ul><li><p>First,
fire up a command-line window and use <span class="stt">raco planet url</span> to
determine the url for downloading the package.
To find the url for version <span class="stt">(1 1)</span> of the plai package,
do this:</p><p><span class="stt">% raco planet url plai plai.plt 1 1</span></p><p>and get this as a response:</p><p><span class="stt">http://planet.racket-lang.org/servlets/planet-servlet.rkt?lang=%224.1.5.3%22&amp;name=%22plai.plt%22&amp;maj=1&amp;min-lo=1&amp;min-hi=%23f&amp;path=%28%22plai%22%29</span></p></li><li><p>Copy and paste that url into your browser, which
should trigger the dowload of a file called
<span class="stt">plai.plt</span>. Note that your browser will probably try to
call the file something else. Rename it to <span class="stt">plai.plt</span>.</p></li><li><p>Now run the command-line tool one more time to install the plt file:</p><p><span class="stt">% raco planet fileinject plai plai.plt 1 1</span></p><p>This command should be run from the same directory where you saved <span class="stt">plai.plt</span>.</p><p>This command may fail, since version <span class="stt">(1 1)</span> of the PLAI
package depends on <span class="stt">cce/scheme:4:1</span>. If it does, simply
repeat the above steps for that package first, and then
continue with the <span class="stt">fileinject</span> command for PLAI.</p></li><li><p><div class="SIntrapara">Finally, to check that the installation is successful,
run <span class="stt">raco planet show</span>. You should see output like this
(possibly with slightly different version numbers, if the
packages have been updated since this was written):
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Normally-installed packages:</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cce</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">scheme.plt</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">4 1</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">plai</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">plai.plt</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">1 1</span></p></td></tr></table></div></p></li></ul></div></p><p>Once that is complete, PLaneT will use that version of the
package for any subsequent <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span>s and won&rsquo;t try
to use the network.</p><p>If you wish to ensure that PLaneT won&rsquo;t use the network even if your
operating system allows it, you can use the <span class="RktSym"><a href="Utility_Libraries.html#%28def._%28%28lib._planet%2Fresolver..rkt%29._download~3f%29%29" class="RktValLink" data-pltdoc="x">download?</a></span>
parameter of the <a href="Utility_Libraries.html#%28mod-path._planet%2Fresolver%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">planet/resolver</span></a> module to control
whether it attempts to download files. Similarly, you can use the
<span class="RktSym"><a href="Utility_Libraries.html#%28def._%28%28lib._planet%2Fresolver..rkt%29._install~3f%29%29" class="RktValLink" data-pltdoc="x">install?</a></span> parameter to prevent installation. Finally, you can
block access at the operating system level to the path returned by
<span class="RktPn">(</span><span class="RktSym"><a href="Utility_Libraries.html#%28def._%28%28lib._planet%2Fconfig..rkt%29._.P.L.A.N.E.T-.B.A.S.E-.D.I.R%29%29" class="RktValLink" data-pltdoc="x">PLANET-BASE-DIR</a></span><span class="RktPn">)</span> to control which operating system users can
install PLaneT packages.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Fine-Grained_Control_Over_Package_Imports&quot;">1.4<tt>&nbsp;</tt><a name="(part._.Fine-.Grained_.Control_.Over_.Package_.Imports)"></a>Fine-Grained Control Over Package Imports</h4><p>The PLaneT client is designed to balance two competing goals:
transparent upgradability and control over the effect of a package
requirement. To that end, the most basic PLaneT require form offers
maximum upgradability, but several more specialized forms allow
finer-grained control over what versions of the named package may be
downloaded.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Package versions should not be confused with program or library
versions; a <span style="font-family: 楷体">package version</span> is a PLaneT-specific version
number that encodes backwards-compatibility information.</p></blockquote></blockquote></blockquote><p>The most basic planet require line, which is what is used in the form</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.rkt"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"schematics"</span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>in longhand notation, or</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">schematics/spgsql:2:3/spgsql</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>in shorthand notation, should be read &ldquo;Require from PLaneT
<span style="font-family: 楷体">any</span> release of Schematics&rsquo; <span class="stt">"spgsql.plt"</span> package that
is backwards-compatible with package version 2.3.&rdquo; (The actual
package version used is determined by <a href="search-order.html" data-pltdoc="x">the
PLaneT search order</a>.) To signal this explicitly, it is possible to
write</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.rkt"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"schematics"</span><span class="hspace">&nbsp;</span><span class="RktVal">"spgsql.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>or</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">schematics/spgsql:2:&gt;=3/spgsql</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>both of which mean the same thing as the first pair of require lines.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>See <a href="Developing_Packages_for_PLaneT.html#%28part._backwards-compatibility%29" data-pltdoc="x">Determine Your Package&rsquo;s Backwards-Compatibility</a> for a more detailed discussion of
backwards-compatibility obligations for PLaneT packages.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The notion of &ldquo;backwards-compatibility&rdquo; has a specific meaning in
PLaneT: by definition, for the purposes of automation, a package is
considered to be backwards-compatible with any other package of the
same owner, name, and major version, and any <span style="font-family: 楷体">lower</span> minor
version. Package maintainers are responsible for marking new releases
that break backwards-compatibility by incrementing their major-version
number. This means that all of the above require specifications will
match any release of <span class="stt">"unlib.plt"</span> with major package version 3
(and any minor version), but will <span style="font-family: 楷体">never</span> match releases of
<span class="stt">"unlib.plt"</span> with higher (or lower) major version numbers.</div></p><p>Of course a package author may make a mistake and introduced a
backwards-incompatibility unintentionally, or may fix a bug that code
in third-party libraries was already working around. In those cases,
it may help to make use of the &ldquo;upper bound&rdquo; form of the planet
require, in longhand form:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"reduction-semantics.rkt"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"robby"</span><span class="hspace">&nbsp;</span><span class="RktVal">"redex.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>and using shorthand notation:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">robby/redex:4:&lt;=3/reduction-semantics</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>In this require line, any version of the package <span class="stt">"redex.plt"</span>
from package version 4.0 to package version 4.3 will match the require
spec (though as with any PLaneT require specification,
<a href="search-order.html" data-pltdoc="x">the PLaneT package search order</a> determines
which package is actually loaded).</p><p>It is also possible to specify both an upper and a lower bound, using
the planet require&rsquo;s &ldquo;range&rdquo; form:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"test.rkt"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"schematics"</span><span class="hspace">&nbsp;</span><span class="RktVal">"schemeunit.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>or</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">schematics/schemeunit:2:9-10/test</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>This form matches any package in the specified range (inclusive on
both ends), in this example the specifications match either package
version 2.9 or 2.10 of the <span class="stt">"schemeunit.plt"</span> package, but do
not match version with higher or lower minor version numbers (or any
other major version number).</p><p>Using the range form, it is possible to require a specific version of
a package as a special case (choosing the upper and lower bounds to be
equal), but this is a common enough case that it has special support
with the &ldquo;exact-match&rdquo; form:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unzip.rkt"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"dherman"</span><span class="hspace">&nbsp;</span><span class="RktVal">"zip.plt"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>or</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._planet%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dherman/zip:2:=1/unzip</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>match only the exact package version 2.1 of the <span class="stt">"zip.plt"</span> package.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Monitoring_PLaneT_s_progress&quot;">1.5<tt>&nbsp;</tt><a name="(part._.Monitoring_.P.Lane.T_s_progress)"></a>Monitoring PLaneT&rsquo;s progress</h4><p>PLaneT logs information about what it is doing to the <span class="stt">info</span>
log (via <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=logging.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._log-info%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">log-info</a></span>).
In DrRacket, you can view the logs from the <span class="ssansserif">Show Log</span>
menu item in the <span class="ssansserif">View</span> menu, and Racket&rsquo;s logging output
can be controlled via command-line options and via environment
variables. See
<a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=logging.html&amp;version=7.0.0.18" class="Sq" data-pltdoc="x">Logging</a>
for more details.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="后退至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="search-order.html" title="前进至&quot;2 The PLaneT Search Order&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>