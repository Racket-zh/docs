<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>24&nbsp;mzlib/kw</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Mz<span class="mywbr"> &nbsp;</span>Lib:<span class="mywbr"> &nbsp;</span> Legacy Libraries</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="mzlib_a-signature.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>a-<wbr></wbr>signature</span></a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="mzlib_a-unit.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>a-<wbr></wbr>unit</span></a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="mzlib_async-channel.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>async-<wbr></wbr>channel</span></a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="mzlib_awk.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>awk</span></a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>class</span></a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_cm.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>cm</span></a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="mzlib_cm-accomplice.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>cm-<wbr></wbr>accomplice</span></a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="mzlib_cmdline.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>cmdline</span></a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="mzlib_cml.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>cml</span></a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="mzlib_compat.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>compat</span></a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="mzlib_compile.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>compile</span></a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="mzlib_contract.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>contract</span></a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="mzlib_control.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>control</span></a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="mzlib_date.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>date</span></a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="mzlib_deflate.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>deflate</span></a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="mzlib_defmacro.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>defmacro</span></a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="mzlib_etc.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>etc</span></a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="mzlib_file.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>file</span></a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="mzlib_for.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>for</span></a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="mzlib_foreign.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>foreign</span></a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="mzlib_include.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>include</span></a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="mzlib_inflate.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>inflate</span></a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="mzlib_integer-set.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>integer-<wbr></wbr>set</span></a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>kw</span></a></td></tr><tr><td align="right">25&nbsp;</td><td><a href="mzlib_list.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>list</span></a></td></tr><tr><td align="right">26&nbsp;</td><td><a href="mzlib_match.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>match</span></a></td></tr><tr><td align="right">27&nbsp;</td><td><a href="mzlib_math.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>math</span></a></td></tr><tr><td align="right">28&nbsp;</td><td><a href="mzlib_md5.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>md5</span></a></td></tr><tr><td align="right">29&nbsp;</td><td><a href="mzlib_os.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>os</span></a></td></tr><tr><td align="right">30&nbsp;</td><td><a href="mzlib_pconvert.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>pconvert</span></a></td></tr><tr><td align="right">31&nbsp;</td><td><a href="mzlib_pconvert-prop.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>pconvert-<wbr></wbr>prop</span></a></td></tr><tr><td align="right">32&nbsp;</td><td><a href="mzlib_plt-match.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>plt-<wbr></wbr>match</span></a></td></tr><tr><td align="right">33&nbsp;</td><td><a href="mzlib_port.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>port</span></a></td></tr><tr><td align="right">34&nbsp;</td><td><a href="mzlib_pregexp.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>pregexp</span></a></td></tr><tr><td align="right">35&nbsp;</td><td><a href="mzlib_pretty.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>pretty</span></a></td></tr><tr><td align="right">36&nbsp;</td><td><a href="mzlib_process.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>process</span></a></td></tr><tr><td align="right">37&nbsp;</td><td><a href="mzlib_restart.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>restart</span></a></td></tr><tr><td align="right">38&nbsp;</td><td><a href="mzlib_runtime-path.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>runtime-<wbr></wbr>path</span></a></td></tr><tr><td align="right">39&nbsp;</td><td><a href="mzlib_sandbox.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>sandbox</span></a></td></tr><tr><td align="right">40&nbsp;</td><td><a href="mzlib_sendevent.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>sendevent</span></a></td></tr><tr><td align="right">41&nbsp;</td><td><a href="mzlib_serialize.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>serialize</span></a></td></tr><tr><td align="right">42&nbsp;</td><td><a href="mzlib_shared.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>shared</span></a></td></tr><tr><td align="right">43&nbsp;</td><td><a href="mzlib_string.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>string</span></a></td></tr><tr><td align="right">44&nbsp;</td><td><a href="mzlib_struct.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>struct</span></a></td></tr><tr><td align="right">45&nbsp;</td><td><a href="mzlib_stxparam.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>stxparam</span></a></td></tr><tr><td align="right">46&nbsp;</td><td><a href="mzlib_surrogate.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>surrogate</span></a></td></tr><tr><td align="right">47&nbsp;</td><td><a href="mzlib_tar.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>tar</span></a></td></tr><tr><td align="right">48&nbsp;</td><td><a href="mzlib_thread.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>thread</span></a></td></tr><tr><td align="right">49&nbsp;</td><td><a href="mzlib_trace.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>trace</span></a></td></tr><tr><td align="right">50&nbsp;</td><td><a href="mzlib_traceld.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>traceld</span></a></td></tr><tr><td align="right">51&nbsp;</td><td><a href="mzlib_trait.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>trait</span></a></td></tr><tr><td align="right">52&nbsp;</td><td><a href="mzlib_transcr.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>transcr</span></a></td></tr><tr><td align="right">53&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>unit</span></a></td></tr><tr><td align="right">54&nbsp;</td><td><a href="mzlib_unit-exptime.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>unit-<wbr></wbr>exptime</span></a></td></tr><tr><td align="right">55&nbsp;</td><td><a href="mzlib_unit200.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>unit200</span></a></td></tr><tr><td align="right">56&nbsp;</td><td><a href="mzlib_unitsig200.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>unitsig200</span></a></td></tr><tr><td align="right">57&nbsp;</td><td><a href="mzlib_zip.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>zip</span></a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>24&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RktSym">mzlib/<span class="mywbr"> &nbsp;</span>kw</span></a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">24.1&nbsp;</td><td><a href="#%28part._.Required_.Arguments%29" class="tocviewlink" data-pltdoc="x">Required Arguments</a></td></tr><tr><td align="right">24.2&nbsp;</td><td><a href="#%28part._.Optional_.Arguments%29" class="tocviewlink" data-pltdoc="x">Optional Arguments</a></td></tr><tr><td align="right">24.3&nbsp;</td><td><a href="#%28part._.Keyword_.Arguments%29" class="tocviewlink" data-pltdoc="x">Keyword Arguments</a></td></tr><tr><td align="right">24.4&nbsp;</td><td><a href="#%28part._.Rest_and_.Rest-like_.Arguments%29" class="tocviewlink" data-pltdoc="x">Rest and Rest-<wbr></wbr>like Arguments</a></td></tr><tr><td align="right">24.5&nbsp;</td><td><a href="#%28part._kw-body%29" class="tocviewlink" data-pltdoc="x">Body Argument</a></td></tr><tr><td align="right">24.6&nbsp;</td><td><a href="#%28part._mode-keywords%29" class="tocviewlink" data-pltdoc="x">Mode Keywords</a></td></tr><tr><td align="right">24.7&nbsp;</td><td><a href="#%28part._keyword-get%29" class="tocviewlink" data-pltdoc="x">Property Lists</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lambda/<span class="mywbr"> &nbsp;</span>kw</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define/<span class="mywbr"> &nbsp;</span>kw</span></span></a></td></tr><tr><td><span class="tocsublinknumber">24.1<tt>&nbsp;</tt></span><a href="#%28part._.Required_.Arguments%29" class="tocsubseclink" data-pltdoc="x">Required Arguments</a></td></tr><tr><td><span class="tocsublinknumber">24.2<tt>&nbsp;</tt></span><a href="#%28part._.Optional_.Arguments%29" class="tocsubseclink" data-pltdoc="x">Optional Arguments</a></td></tr><tr><td><span class="tocsublinknumber">24.3<tt>&nbsp;</tt></span><a href="#%28part._.Keyword_.Arguments%29" class="tocsubseclink" data-pltdoc="x">Keyword Arguments</a></td></tr><tr><td><span class="tocsublinknumber">24.4<tt>&nbsp;</tt></span><a href="#%28part._.Rest_and_.Rest-like_.Arguments%29" class="tocsubseclink" data-pltdoc="x">Rest and Rest-<wbr></wbr>like Arguments</a></td></tr><tr><td><span class="tocsublinknumber">24.5<tt>&nbsp;</tt></span><a href="#%28part._kw-body%29" class="tocsubseclink" data-pltdoc="x">Body Argument</a></td></tr><tr><td><span class="tocsublinknumber">24.6<tt>&nbsp;</tt></span><a href="#%28part._mode-keywords%29" class="tocsubseclink" data-pltdoc="x">Mode Keywords</a></td></tr><tr><td><span class="tocsublinknumber">24.7<tt>&nbsp;</tt></span><a href="#%28part._keyword-get%29" class="tocsubseclink" data-pltdoc="x">Property Lists</a></td></tr><tr><td><a href="#%28def._%28%28lib._mzlib%2Fkw..rkt%29._keyword-get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">keyword-<wbr></wbr>get</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="mzlib_integer-set.html" title="后退至&quot;23 mzlib/integer-set&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;MzLib: Legacy Libraries&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="mzlib_list.html" title="前进至&quot;25 mzlib/list&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><a name="(part._mzlib_kw)"></a><a name="(mod-path._mzlib/kw)"></a><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">mzlib/kw</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package&#65306;</span> <a href="https://pkgs.racket-lang.org/package/compatibility-lib" title="使用“raco pkg install compatibility-lib”安装此包"><span class="stt">compatibility-lib</span></a></span></td></tr></table></p><blockquote><p><span style="background-color: yellow"><span style="font-weight: bold">&#27880;&#24847;&#65306;</span></span>&#35813;&#24211;&#24050;&#34987;&#24223;&#24323;&#65307;&#35831;&#25913;&#29992;<a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a>&#12290;The Racket base language
supports keyword arguments. Using the built-in keyword arguments
in Racket is highly recommended.</p></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span> and procedure-application forms of
<span class="RktSym">scheme/base</span> support keyword arguments, and it is
<span style="font-family: 楷体">not</span> compatible with the <span class="RktSym">mzlib/kw</span>
library.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#35821;&#27861;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._mzlib/kw..rkt)._lambda/kw))"></a><span title="提供自：mzlib/kw | 包：compatibility-lib"><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lambda/kw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">kw-formals</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#35821;&#27861;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._mzlib/kw..rkt)._define/kw))"></a><span title="提供自：mzlib/kw | 包：compatibility-lib"><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define/kw</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">head</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">kw-formals</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:optional</span><span class="hspace">&nbsp;</span><span class="RktVar">optional-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktVar">key-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVar">rest/mode-spec</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">optional-spec</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">default-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">key-spec</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">default-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">keyword</span><span class="hspace">&nbsp;</span><span class="RktVar">default-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">rest/mode-spec</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:rest</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:other-keys</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:other-keys+body</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:all-keys</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:body</span><span class="hspace">&nbsp;</span><span class="RktVar">kw-formals</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:allow-other-keys</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:forbid-other-keys</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:allow-duplicate-keys</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:forbid-duplicate-keys</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:allow-body</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:forbid-body</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:allow-anything</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:forbid-anything</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">head</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">head</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">kw-formals</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>, but with optional and keyword-based argument
processing.  This form is similar to an extended version of Common
Lisp procedure arguments (but note the differences below).  When used
with plain variable names, <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> expands to a plain
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>, so <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> is suitable for a language
module that will use it to replace <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>.  Also, when used
with only optionals, the resulting procedure is similar to
<span class="RktSym"><a href="mzlib_etc.html#%28form._%28%28lib._mzlib%2Fetc..rkt%29._opt-lambda%29%29" class="RktStxLink" data-pltdoc="x">opt-lambda</a></span> (but a bit faster).</div></p><p>In addition to <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span>, <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">define/kw</a></span> is similar to
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._define%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">define</a></span>, except that the <span class="RktSym">formals</span> are as in
<span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span>.  Like <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._define%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">define</a></span>, this form can be used with
nested parenthesis for curried functions (the MIT-style generalization
of <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._define%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">define</a></span>).</p><p>The syntax of <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> is the same as <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>,
except for the list of formal argument specifications.  These
specifications can hold (zero or more) plain argument names, then an
optionals (and defaults) section that begins after an
<span class="RktPn">#:optional</span> marker, then a keyword section that is marked by
<span class="RktPn">#:keyword</span>, and finally a section holding rest and
&ldquo;rest&rdquo;-like arguments which are described below, together with
argument processing flag directives.  Each section is optional, but
the order of the sections must be as listed. Of course, all binding
<span class="RktVar">id</span>s must be unique.</p><p>The following sections describe each part of the <span class="RktVar">kw-formals</span>.</p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;Required_Arguments&quot;">24.1<tt>&nbsp;</tt><a name="(part._.Required_.Arguments)"></a>Required Arguments</h4><p>Required arguments correspond to <span class="RktSym">id</span>s that appear before any
keyword marker in the argument list. They determine the minimum arity
of the resulting procedure.</p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;Optional_Arguments&quot;">24.2<tt>&nbsp;</tt><a name="(part._.Optional_.Arguments)"></a>Optional Arguments</h4><p>The optional-arguments section follows an
<a name="(idx._(gentag._0._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:optional</span> marker in the <span class="RktVar">kw-formals</span>.
Each optional argument can take the form of a parenthesized variable
and a default expression; the latter is used if a value is not given
at the call site.  The default expression can be omitted (along with
the parentheses), in which case <span class="RktVal">#f</span> is the default.</p><p>The default expression&rsquo;s environment includes all previous arguments,
both required and optional names.  With <span style="font-family: 楷体">k</span> optionals after
<span style="font-family: 楷体">n</span> required arguments, and with no keyword arguments or
rest-like arguments, the resulting procedure accept between <span style="font-family: 楷体">n</span>
and <span style="font-family: 楷体">n+k</span> arguments, inclusive.</p><p>The treatment of optionals is efficient, with an important caveat:
default expressions appear multiple times in the resulting
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._case-lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">case-lambda</a></span>. For example, the default expression for the last
optional argument appears <span style="font-family: 楷体">k-</span>1<span style="font-family: 楷体"></span> times (but no expression is ever
evaluated more than once in a procedure call). This expansion risks
exponential blow-up is if <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> is used in a default
expression of a <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span>, etc.  The bottom line, however, is
that <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> is a sensible choice, due to its enhanced
efficiency, even when you need only optional arguments.</p><p>Using both optional and keyword arguments is possible, but note that
the resulting behavior differs from traditional keyword facilities
(including the one in Common Lisp).  See the following section for
details.</p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;Keyword_Arguments&quot;">24.3<tt>&nbsp;</tt><a name="(part._.Keyword_.Arguments)"></a>Keyword Arguments</h4><p>A keyword argument section is marked by a <a name="(idx._(gentag._1._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:key</span>.
If it is used with optional arguments, then the keyword specifications
must follow the optional arguments (which mirrors the use in call
sites; where optionals are given before keywords).</p><p>When a procedure accepts both optional and keyword arguments, the
argument-handling convention is slightly different than in traditional
keyword-argument facilities: a keyword after required arguments marks
the beginning of keyword arguments, no matter how many optional
arguments have been provided before the keyword.  This convention
restricts the procedure&rsquo;s non-keyword optional arguments to
non-keyword values, but it also avoids confusion when mixing optional
arguments and keywords.  For example, when a procedure that takes two
optional arguments and a keyword argument <span class="RktPn">#:x</span> is called with
<span class="RktPn">#:x</span><span class="stt"> </span><span class="RktVal">1</span>, then the optional arguments get their default values
and the keyword argument is bound to <span class="RktVal">1</span>. (The traditional
behavior would bind <span class="RktPn">#:x</span> and <span class="RktVal">1</span> to the two optional
arguments.) When the same procedure is called with <span class="RktVal">1</span><span class="stt"> </span><span class="RktPn">#:x</span><span class="stt"> </span><span class="RktVal">2</span>,
the first optional argument is bound to <span class="RktVal">1</span>, the second
optional argument is bound to its default, and the keyword argument is
bound to <span class="RktVal">2</span>. (The traditional behavior would report an error,
because <span class="RktVal">2</span> is provided where <span class="RktPn">#:x</span> is expected.)</p><p>Like optional arguments, each keyword argument is specified as a
parenthesized variable name and a default expression.  The default
expression can be omitted (with the parentheses), in which case
<span class="RktVal">#f</span> is the default value. The keyword used at a call site for
the corresponding variable has the same name as the variable; a third
form of keyword arguments has three parts&#8212;<wbr></wbr>a variable name, a
keyword, and a default expression&#8212;<wbr></wbr>to allow the name of the locally
bound variable to differ from the keyword used at call sites.</p><p>When calling a procedure with keyword arguments, the required argument
(and all optional arguments, if specified) must be followed by an even
number of arguments, where the first argument is a keyword that
determines which variable should get the following value, etc.  If the
same keyword appears multiple times (and if multiple instances of the
keyword are allowed; see <a href="#%28part._mode-keywords%29" data-pltdoc="x">Mode Keywords</a>), the value after
the first occurrence is used for the variable:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktPn">#:zz</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">#:allow-duplicate-keys</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktPn">#:zz</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">z</span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(x 2 z)</span></p></td></tr></table></blockquote></div></p><p>Default expressions are evaluated only for keyword arguments that do
not receive a value for a particular call. Like optional arguments,
each default expression is evaluated in an environment that includes
all previous bindings (required, optional, and keywords that were
specified on its left).</p><p>See <a href="#%28part._mode-keywords%29" data-pltdoc="x">Mode Keywords</a> for information on when duplicate or
unknown keywords are allowed at a call site.</p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;Rest_and_Rest-like_Arguments&quot;">24.4<tt>&nbsp;</tt><a name="(part._.Rest_and_.Rest-like_.Arguments)"></a>Rest and Rest-like Arguments</h4><p>The last <span class="RktVar">kw-formals</span> section&#8212;<wbr></wbr>after the required, optional,
and keyword arguments&#8212;<wbr></wbr>may contain specifications for rest-like
arguments and/or mode keywords.  Up to five rest-like arguments can be
declared, each with an <span class="RktVar">id</span> to bind:</p><ul><li><p><a name="(idx._(gentag._2._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:rest</span> &#8212;<wbr></wbr> The variable is bound to the
list of &ldquo;rest&rdquo; arguments, which is the list of all values after
the required and the optional values.  This list includes all
keyword-value pairs, exactly as they are specified at the call site.</p><p>Scheme&rsquo;s usual dot-notation is accepted in <span class="RktVar">kw-formals</span> only
if no other meta-keywords are specified, since it is not clear
whether it should specify the same binding as a <span class="RktPn">#:rest</span> or
as a <span class="RktPn">#:body</span>.  The dot notation is allowed without
meta-keywords to make the <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> syntax compatible with
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Syntactic_Forms.html%23%2528form._%2528%2528lib._mzscheme%252Fmain..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>.</p></li><li><p><a name="(idx._(gentag._3._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:body</span> &#8212;<wbr></wbr> The variable is bound to all
arguments after keyword&ndash;value pairs.  (This is different from
Common Lisp&rsquo;s <span class="RktSym">&amp;body</span>, which is a synonym for
<span class="RktSym">&amp;rest</span>.)  More generally, a <span class="RktPn">#:body</span> specification
can be followed by another <span class="RktVar">kw-formals</span>, not just a single
<span class="RktVar">id</span>; see <a href="#%28part._kw-body%29" data-pltdoc="x">Body Argument</a> for more information.</p></li><li><p><a name="(idx._(gentag._4._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:all-keys</span> &#8212;<wbr></wbr> the variable is bound to the
list of all keyword-values from the call site, which is always a
proper prefix of a <span class="RktPn">#:rest</span> argument.  (If no <span class="RktPn">#:body</span>
arguments are declared, then <span class="RktPn">#:all-keys</span> binds the same as
<span class="RktPn">#:rest</span>.) See also <span class="RktSym"><a href="#%28def._%28%28lib._mzlib%2Fkw..rkt%29._keyword-get%29%29" class="RktValLink" data-pltdoc="x">keyword-get</a></span>.</p></li><li><p><span class="RktPn">#:other-keys</span> &#8212;<wbr></wbr> The variable is bound like an
<span class="RktPn">#:all-keys</span> variable, except that all keywords specified in
the <span class="RktSym">kw-formals</span> are removed from the list.  When a keyword
is used multiple times at a call cite (and this is allowed), only
the first instances is removed for the <span class="RktPn">#:other-keys</span>
binding.</p></li><li><p><span class="RktPn">#:other-keys+body</span> &#8212;<wbr></wbr> the variable is bound like a
<span class="RktPn">#:rest</span> variable, except that all keywords specified in the
<span class="RktVar">kw-formals</span> are removed from the list.  When a keyword is
used multiple times at a call site (and this is allowed), only the
first instance us removed for the <span class="RktPn">#:other-keys+body</span>
binding.  (When no <span class="RktPn">#:body</span> variables are specified, then
<span class="RktPn">#:other-keys+body</span> is the same as <span class="RktPn">#:other-keys</span>.)</p></li></ul><p>In the following example, all rest-like arguments are used and have different
bindings:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:rest</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:other-keys+body</span><span class="hspace">&nbsp;</span><span class="RktSym">rk</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:all-keys</span><span class="hspace">&nbsp;</span><span class="RktSym">ak</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:other-keys</span><span class="hspace">&nbsp;</span><span class="RktSym">ok</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:body</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">rk</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">ak</span><span class="hspace">&nbsp;</span><span class="RktSym">ok</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">#:z</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:x</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'((#:z 1 #:x 2 2 3 4) (#:z 1 2 3 4) (2 3 4) (#:z 1 #:x 2) (#:z 1))</span></p></td></tr></table></blockquote></div></p><p>Note that the following invariants always hold:</p><ul><li><p><span class="RktVar">rest</span> = <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="stt"> </span><span class="RktVar">all-keys</span><span class="stt"> </span><span class="RktVar">body</span><span class="RktPn">)</span></p></li><li><p><span class="RktVar">other-keys+body</span> = <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="stt"> </span><span class="RktVar">other-keys</span><span class="stt"> </span><span class="RktVar">body</span><span class="RktPn">)</span></p></li></ul><p>To write a procedure that uses a few keyword argument values, and that
also calls another procedure with the same list of arguments
(including all keywords), use <span class="RktPn">#:other-keys</span> (or
<span class="RktPn">#:other-keys+body</span>).  The Common Lisp approach is to specify
<span class="RktSym">:allow-other-keys</span>, so that the second procedure call will not
cause an error due to unknown keywords, but the
<span class="RktSym">:allow-other-keys</span> approach risks confusing the two layers of
keywords.</p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;kw-body&quot;">24.5<tt>&nbsp;</tt><a name="(part._kw-body)"></a>Body Argument</h4><p>The most notable divergence from Common Lisp in <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> is
the <span class="RktPn">#:body</span> argument, and the fact that it is possible at a
call site to pass plain values after the keyword-value pairs.  The
<span class="RktPn">#:body</span> binding is useful for procedure calls that use
keyword-value pairs as sort of an attribute list before the actual
arguments to the procedure.  For example, consider a procedure that
accepts any number of numeric arguments and will apply a procedure to
them, but the procedure can be specified as an optional keyword
argument. It is easily implemented with a <span class="RktPn">#:body</span> argument:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">define/kw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">#:body</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzscheme&amp;rel=Old_Functions.html%23%2528def._%2528%2528lib._mzscheme%252Fmain..rkt%2529._apply%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._max%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">max</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote></div></p><p>(Note that the first body value cannot itself be a keyword.)</p><p>A <span class="RktPn">#:body</span> declaration works as an arbitrary
<span class="RktSym">kw-formals</span>, not just a single variable like <span class="RktSym">b</span> in the
above example. For example, to make the above <span class="RktSym">mathop</span> work
only on three arguments that follow the keyword, use <span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="stt"> </span><span class="RktSym">z</span><span class="RktPn">)</span>
instead of <span class="RktSym">b</span>:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">define/kw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">#:body</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>In general, <span class="RktPn">#:body</span> handling is compiled to a sub procedure
using <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span>, so that a procedure can use more then one
level of keyword arguments. For example:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._define%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">define/kw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:body</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktPn">#:key</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">convert</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">convert</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">convert</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">convert</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktPn">#:convert</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-%7E3einexact%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-&gt;inexact</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">48.0</span></p></td></tr></table></blockquote></div></p><p>Obviously, nested keyword arguments works only when non-keyword
arguments separate the sets.</p><p>Run-time errors during such calls report a mismatch for a procedure
with a name that is based on the original name plus a <span class="RktSym">~body</span>
suffix:</p><p><div class="SIntrapara">&#20363;&#22914;&#65306;</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mathop</span><span class="hspace">&nbsp;</span><span class="RktPn">#:op</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">mathop~body: arity mismatch;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">the expected number of arguments does not match the given</span></p></td></tr><tr><td><p><span class="RktErr">number</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: at least 3</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: 2</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">arguments...:</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">2</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">4</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;mode-keywords&quot;">24.6<tt>&nbsp;</tt><a name="(part._mode-keywords)"></a>Mode Keywords</h4><p>Finally, the argument list of a <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> can contain
keywords that serve as mode flags to control error reporting.</p><ul><li><p><a name="(idx._(gentag._5._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:allow-other-keys</span> &#8212;<wbr></wbr> The keyword-value
sequence at the call site <span style="font-family: 楷体">can</span> include keywords that are not
listed in the keyword part of the <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> form.</p></li><li><p><a name="(idx._(gentag._6._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:forbid-other-keys</span> &#8212;<wbr></wbr> The keyword-value
sequence at the call site <span style="font-family: 楷体">cannot</span> include keywords that are
not listed in the keyword part of the <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> form,
otherwise the <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> exception is raised.</p></li><li><p><a name="(idx._(gentag._7._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:allow-duplicate-keys</span> &#8212;<wbr></wbr> The
keyword-value list at the call site <span style="font-family: 楷体">can</span> include duplicate
values associated with same keyword, the first one is used.</p></li><li><p><a name="(idx._(gentag._8._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:forbid-duplicate-keys</span> &#8212;<wbr></wbr> The
keyword-value list at the call site <span style="font-family: 楷体">cannot</span> include
duplicate values for keywords, otherwise the
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> exception is raised. This restriction
applies only to keywords that are listed in the keyword part of the
<span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> form &#8212;<wbr></wbr> if other keys are allowed, this
restriction does not apply to them.</p></li><li><p><a name="(idx._(gentag._9._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:allow-body</span> &#8212;<wbr></wbr> Body arguments
<span style="font-family: 楷体">can</span> be specified at the call site after all keyword-value
pairs.</p></li><li><p><a name="(idx._(gentag._10._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:forbid-body</span> &#8212;<wbr></wbr> Body arguments
<span style="font-family: 楷体">cannot</span> be specified at the call site after all
keyword-value pairs.</p></li><li><p><a name="(idx._(gentag._11._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:allow-anything</span> &#8212;<wbr></wbr> Allows all of the
above, and treat a single keyword at the end of an argument list as
a <span class="RktPn">#:body</span>, a situation that is usually an error.  When this
is used and no rest-like arguments are used except <span class="RktPn">#:rest</span>,
an extra loop is saved and calling the procedures is faster (around
20%).</p></li><li><p><a name="(idx._(gentag._12._(lib._mzlib/scribblings/mzlib..scrbl)))"></a><span class="RktPn">#:forbid-anything</span> &#8212;<wbr></wbr> Forbids all of the
above, ensuring that calls are as restricted as possible.</p></li></ul><p>These above mode markers are rarely needed, because the default modes
are determined by the declared rest-like arguments:</p><ul><li><p>The default is to allow other keys if a <span class="RktPn">#:rest</span>,
<span class="RktPn">#:other-keys+body</span>, <span class="RktPn">#:all-keys</span>, or
<span class="RktPn">#:other-keys</span> variable is declared (and an
<span class="RktPn">#:other-keys</span> declaration requires allowing other keys).</p></li><li><p>The default is to allow duplicate keys if a <span class="RktPn">#:rest</span> or
<span class="RktPn">#:all-keys</span> variable is declared.</p></li><li><p>The default is to allow body arguments if a <span class="RktPn">#:rest</span>,
<span class="RktPn">#:body</span>, or <span class="RktPn">#:other-keys+body</span> variable is declared
(and a <span class="RktPn">#:body</span> argument requires allowing them).</p></li></ul><p>Here&rsquo;s an alternate specification, which maps rest-like arguments to
the behavior that they imply:</p><ul><li><p><span class="RktPn">#:rest</span>: Everything is allowed (a body, other keys,
and duplicate keys);</p></li><li><p><span class="RktPn">#:other-keys+body</span>: Other keys and body are allowed,
but duplicates are not;</p></li><li><p><span class="RktPn">#:all-keys</span>: Other keys and duplicate keys are allowed,
but a body is not;</p></li><li><p><span class="RktPn">#:other-keys</span>: Other keys must be allowed (on by
default, cannot use with <span class="RktPn">#:forbid-other-keys</span>), and
duplicate keys and body are not allowed;</p></li><li><p><span class="RktPn">#:body</span>: Body must be allowed (on by default, cannot use
with <span class="RktPn">#:forbid-body</span>) and other keys and duplicate keys and
body are not allowed;</p></li><li><p>Except for the previous two &ldquo;must&rdquo;s, defaults can be
overridden by an explicit <span class="RktPn">#:allow-...</span> or a
<span class="RktPn">#:forbid-...</span> mode.</p></li></ul><h4 x-source-module="(lib &quot;mzlib/scribblings/mzlib.scrbl&quot;)" x-source-pkg="compatibility-doc" x-part-tag="&quot;keyword-get&quot;">24.7<tt>&nbsp;</tt><a name="(part._keyword-get)"></a>Property Lists</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mzlib/kw..rkt)._keyword-get))"></a><span title="提供自：mzlib/kw | 包：compatibility-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mzlib%2Fkw..rkt%29._keyword-get%29%29" class="RktValDef RktValLink" data-pltdoc="x">keyword-get</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktVar">kw</span><span class="hspace">&nbsp;</span><span class="RktVar">not-found</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cons/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=keywords.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._keyword%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">keyword?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=keywords.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._keyword%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">keyword?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">not-found</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Searches a list of keyword arguments (a &ldquo;property list&rdquo; or &ldquo;plist&rdquo;
in Lisp jargon) for the given keyword, and returns the associated
value.  It is the facility that is used by <span class="RktSym"><a href="#%28form._%28%28lib._mzlib%2Fkw..rkt%29._lambda%2Fkw%29%29" class="RktStxLink" data-pltdoc="x">lambda/kw</a></span> to
search for keyword values.</div></p><p>The <span class="RktVar">args</span> list is scanned from left to right, if the keyword
is found, then the next value is returned.  If the <span class="RktVar">kw</span> was not
found, then the <span class="RktVar">not-found</span> thunk is used to produce a value by
applying it.  If the <span class="RktVar">kw</span> was not found, and <span class="RktVar">not-found</span>
thunk is not given, <span class="RktVal">#f</span> is returned.  (No exception is raised
if the <span class="RktVar">args</span> list is imbalanced, and the search stops at a
non-keyword value.)</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="mzlib_integer-set.html" title="后退至&quot;23 mzlib/integer-set&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;MzLib: Legacy Libraries&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="mzlib_list.html" title="前进至&quot;25 mzlib/list&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>