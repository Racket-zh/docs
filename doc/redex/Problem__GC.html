<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.9&nbsp;Problem: GC</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Redex:<span class="mywbr"> &nbsp;</span> Practical Semantics Engineering</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="tutorial.html" class="tocviewlink" data-pltdoc="x">Amb:<span class="mywbr"> &nbsp;</span> A Redex Tutorial</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="redex2015.html" class="tocviewlink" data-pltdoc="x">Long Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="fri-mor.html" class="tocviewselflink" data-pltdoc="x">Extended Exercises</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="The_Redex_Reference.html" class="tocviewlink" data-pltdoc="x">The Redex Reference</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="benchmark.html" class="tocviewlink" data-pltdoc="x">Automated Testing Benchmark</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="fri-mor.html" class="tocviewlink" data-pltdoc="x">Extended Exercises</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="Problem__Objects.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Objects</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="Solution__Objects.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Objects</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="Problem__Types.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Types</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="Solution__Types.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Types</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="Problem__Missionaries_and_Cannibals.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Missionaries and Cannibals</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="Solution__Missionaries_and_Cannibals.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Missionaries and Cannibals</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="Problem__Towers_of_Hanoi.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Towers of Hanoi</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="Solution__Towers_of_Hanoi.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Towers of Hanoi</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> GC</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="Solution__GC.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> GC</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="Problem__Finite_State_Machines.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Finite State Machines</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="Solution__Finite_State_Machines.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Finite State Machines</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="Problem__Threads.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Threads</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="Solution__Threads.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Threads</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="Problem__Contracts.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Contracts</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="Solution__Contracts.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Contracts</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="Problem__Binary_Addition.html" class="tocviewlink" data-pltdoc="x">Problem:<span class="mywbr"> &nbsp;</span> Binary Addition</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="Solution__Binary_Addition.html" class="tocviewlink" data-pltdoc="x">Solution:<span class="mywbr"> &nbsp;</span> Binary Addition</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="Solution__Towers_of_Hanoi.html" title="后退至&quot;3.8 Solution: Towers of Hanoi&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="fri-mor.html" title="上至&quot;3 Extended Exercises&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="Solution__GC.html" title="前进至&quot;3.10 Solution: GC&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;redex/redex.scrbl&quot;)" x-source-pkg="redex-doc" x-part-tag="&quot;Problem__GC&quot;">3.9<tt>&nbsp;</tt><a name="(part._.Problem__.G.C)"></a>Problem: GC</h4><p><div class="SIntrapara">Consider the language of stored binary trees:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-language</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">V</span><span class="hspace">&nbsp;</span><span class="RktSym">number</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cons</span><span class="hspace">&nbsp;</span><span class="RktSym">&#963;</span><span class="hspace">&nbsp;</span><span class="RktSym">&#963;</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">&#931;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">&#963;</span><span class="hspace">&nbsp;</span><span class="RktSym">V</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">&#963;</span><span class="hspace">&nbsp;</span><span class="RktSym">variable-not-otherwise-mentioned</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Design the <span class="RktSym"><span class="nobreak">--&gt;</span>gc</span> reduction relation, which implements garbage
collection. The <span class="RktSym"><span class="nobreak">--&gt;</span>gc</span> reduction relation operates on a
configuration that combines the store <span class="RktSym">&#931;</span>, a set of &ldquo;gray&rdquo;
addresses, i.e., <span class="RktSym">&#963;</span>s) to be explored (the addresses of the
initially reachable objects, also called roots, plus a set of &ldquo;black&rdquo;
addresses (initially empty).  Each step operates on one gray address,
adjusting the gray and black sets based on the address&rsquo;s value in the
store. No more steps are possible when the set of gray addresses goes
empty, at which point every address not in the black list can be pruned
from the store.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="Solution__Towers_of_Hanoi.html" title="后退至&quot;3.8 Solution: Towers of Hanoi&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="fri-mor.html" title="上至&quot;3 Extended Exercises&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="Solution__GC.html" title="前进至&quot;3.10 Solution: GC&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>