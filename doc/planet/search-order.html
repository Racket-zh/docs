<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;The PLaneT Search Order</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">PLane<span class="mywbr"> &nbsp;</span>T:<span class="mywbr"> &nbsp;</span> Automatic Package Distribution</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Using_PLaneT.html" class="tocviewlink" data-pltdoc="x">Using PLane<span class="mywbr"> &nbsp;</span>T</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">The PLane<span class="mywbr"> &nbsp;</span>T Search Order</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="cmdline.html" class="tocviewlink" data-pltdoc="x">The <span class="stt">raco planet</span> Command-<wbr></wbr>Line Tool</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="hash-lang-planet.html" class="tocviewlink" data-pltdoc="x">The <span class="RktModLink"><span class="RktSym">planet</span></span> Language</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Utility_Libraries.html" class="tocviewlink" data-pltdoc="x">Utility Libraries</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Developing_Packages_for_PLaneT.html" class="tocviewlink" data-pltdoc="x">Developing Packages for PLane<span class="mywbr"> &nbsp;</span>T</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">The PLane<span class="mywbr"> &nbsp;</span>T Search Order</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Previous_.Linkage%29" class="tocviewlink" data-pltdoc="x">Previous Linkage</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.Acceptable_.Local_.Package%29" class="tocviewlink" data-pltdoc="x">Acceptable Local Package</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Acceptable_.Remote_.Package%29" class="tocviewlink" data-pltdoc="x">Acceptable Remote Package</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Cached_.Installation_.Archive%29" class="tocviewlink" data-pltdoc="x">Cached Installation Archive</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Previous_.Linkage%29" class="tocsubseclink" data-pltdoc="x">Previous Linkage</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Acceptable_.Local_.Package%29" class="tocsubseclink" data-pltdoc="x">Acceptable Local Package</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Acceptable_.Remote_.Package%29" class="tocsubseclink" data-pltdoc="x">Acceptable Remote Package</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Cached_.Installation_.Archive%29" class="tocsubseclink" data-pltdoc="x">Cached Installation Archive</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="Using_PLaneT.html" title="后退至&quot;1 Using PLaneT&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="cmdline.html" title="前进至&quot;3 The raco planet Command-Line Tool&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;search-order&quot;">2<tt>&nbsp;</tt><a name="(part._search-order)"></a>The PLaneT Search Order</h3><p>PLaneT has four strategies it uses in order to match a request with an
appropriate package that.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Previous_Linkage&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Previous_.Linkage)"></a>Previous Linkage</h4><p>Whenever a file requires a package via PLaneT and that requirement is
satisfied, the system makes a note of exactly which package satisfied
that requirement and from then on always uses that exact same package,
even if a newer version is available. This is done to prevent "magic
upgrades" in which a program stops working after installation because
an unrelated package was installed. Such connections are called links
and are stored in a user-specific table called the linkage table.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Acceptable_Local_Package&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Acceptable_.Local_.Package)"></a>Acceptable Local Package</h4><p>If the PLaneT client doesn&rsquo;t have any previous linkage information, it
checks its list of already-installed PLaneT packages for one that
meets the requirement, and uses it if available. Both PLaneT-installed
packages and packages established through a development link
(see <a href="Developing_Packages_for_PLaneT.html#%28part._devlinks%29" data-pltdoc="x">Development Links</a>)
are checked simultaneously at this stage.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Acceptable_Remote_Package&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Acceptable_.Remote_.Package)"></a>Acceptable Remote Package</h4><p>If there is no acceptable local package, the PLaneT client sends
a request to the PLaneT server for a new package that would satisfy
the requirement. The server then finds the newest matching package
and sends it back to the client, which then installs it and uses
it to satisfy the original requirement.</p><h4 x-source-module="(lib &quot;planet/planet.scrbl&quot;)" x-source-pkg="planet-doc" x-part-tag="&quot;Cached_Installation_Archive&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Cached_.Installation_.Archive)"></a>Cached Installation Archive</h4><p>If the remote server cannot be contacted (or fails in any way to
deliver an acceptable package), the PLaneT client consults the
uninstalled-packages cache, a cache of all previously-downloaded
packages, even those that are not currently installed. Racket
users who frequently upgrade their installations may have many
packages downloaded but not installed at any given time; this step
is intended to ensure that these users can still run programs even
if they temporarily lose network connection.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="Using_PLaneT.html" title="后退至&quot;1 Using PLaneT&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;PLaneT: Automatic Package Distribution&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="cmdline.html" title="前进至&quot;3 The raco planet Command-Line Tool&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>