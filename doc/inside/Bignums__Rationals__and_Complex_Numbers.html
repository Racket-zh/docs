<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>14&nbsp;Bignums, Rationals, and Complex Numbers</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Inside:<span class="mywbr"> &nbsp;</span> Racket C API</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="embedding.html" class="tocviewlink" data-pltdoc="x">Embedding into a Program</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Writing_Racket_Extensions.html" class="tocviewlink" data-pltdoc="x">Writing Racket Extensions</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="im_values_types.html" class="tocviewlink" data-pltdoc="x">Values and Types</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="im_memoryalloc.html" class="tocviewlink" data-pltdoc="x">Memory Allocation</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="im_env.html" class="tocviewlink" data-pltdoc="x">Namespaces and Modules</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Procedures.html" class="tocviewlink" data-pltdoc="x">Procedures</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Evaluation.html" class="tocviewlink" data-pltdoc="x">Evaluation</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="exceptions.html" class="tocviewlink" data-pltdoc="x">Exceptions and Escape Continuations</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="threads.html" class="tocviewlink" data-pltdoc="x">Threads</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="config.html" class="tocviewlink" data-pltdoc="x">Parameterizations</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="contmarks.html" class="tocviewlink" data-pltdoc="x">Continuation Marks</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="im_encodings.html" class="tocviewlink" data-pltdoc="x">String Encodings</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Bignums, Rationals, and Complex Numbers</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Ports_and_the_Filesystem.html" class="tocviewlink" data-pltdoc="x">Ports and the Filesystem</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="Structures.html" class="tocviewlink" data-pltdoc="x">Structures</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="security.html" class="tocviewlink" data-pltdoc="x">Security Guards</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="Custodians.html" class="tocviewlink" data-pltdoc="x">Custodians</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="Subprocesses.html" class="tocviewlink" data-pltdoc="x">Subprocesses</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="Miscellaneous_Utilities.html" class="tocviewlink" data-pltdoc="x">Miscellaneous Utilities</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="im_encodings.html" title="后退至&quot;13 String Encodings&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;Inside: Racket C API&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="Ports_and_the_Filesystem.html" title="前进至&quot;15 Ports and the Filesystem&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;scribblings/inside/inside.scrbl&quot;)" x-source-pkg="racket-doc" x-part-tag="&quot;Bignums__Rationals__and_Complex_Numbers&quot;">14<tt>&nbsp;</tt><a name="(part._.Bignums__.Rationals__and_.Complex_.Numbers)"></a>Bignums, Rationals, and Complex Numbers</h3><p>Racket supports integers of an arbitrary magnitude; when an integer
cannot be represented as a fixnum (i.e., 30 or 62 bits plus a sign
bit), then it is represented by the Racket type
<a href="im_values_types.html#%28cpp._scheme_bignum_type%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_type</span></a>. There is no overlap in integer values
represented by fixnums and bignums.</p><p>Rationals are implemented by the type <a href="im_values_types.html#%28cpp._scheme_rational_type%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_type</span></a>,
composed of a numerator and a denominator.
The numerator and denominator will be fixnums or bignums (possibly mixed).</p><p>Complex numbers are implemented by the type <a href="im_values_types.html#%28cpp._scheme_complex_type%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_complex_type</span></a>,
composed of a real and imaginary part. The real and imaginary parts
will either be both flonums, both exact numbers (fixnums, bignums, and
rationals can be mixed in any way), or the real part will be exact 0 and
the imaginary part will be a single-precision (when enabled) or
double-pecision flonum.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_is_exact)"></a><a name="(idx._(gentag._463._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_is_exact%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_is_exact</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns <span class="stt">1</span> if <span style="font-family: 楷体">n</span> is an exact number, <span class="RktVal">0</span> otherwise
(<span style="font-family: 楷体">n</span> need not be a number).</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_is_inexact)"></a><a name="(idx._(gentag._464._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_is_inexact%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_is_inexact</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns <span class="stt">1</span> if <span style="font-family: 楷体">n</span> is an inexact number, <span class="RktVal">0</span> otherwise
(<span style="font-family: 楷体">n</span> need not be a number).</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_bignum)"></a><a name="(idx._(gentag._465._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_bignum%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_bignum</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">intptr_t</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">v</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a bignum representing the integer <span style="font-family: 楷体">v</span>. This can create a
bignum that otherwise fits into a fixnum.  This must only be used to
create temporary values for use with the <span class="stt">bignum</span> functions. Final
results can be normalized with <a href="#%28cpp._scheme_bignum_normalize%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_normalize</span></a>.  Only
normalized numbers can be used with procedures that are not specific
to bignums.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_bignum_from_unsigned)"></a><a name="(idx._(gentag._466._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_bignum_from_unsigned%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_bignum_from_unsigned</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">uintptr_t</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">v</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_make_bignum%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_bignum</span></a>, but works on unsigned integers.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">double</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_to_double)"></a><a name="(idx._(gentag._467._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_to_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_to_double</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Converts a bignum to a floating-point number, with reasonable but
unspecified accuracy.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">float</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_to_float)"></a><a name="(idx._(gentag._468._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_to_float%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_to_float</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">If Racket is not compiled with single-precision floats, this procedure
is actually a macro alias for <a href="#%28cpp._scheme_bignum_to_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_to_double</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_from_double)"></a><a name="(idx._(gentag._469._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_from_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_from_double</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">double</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">d</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a bignum that is close in magnitude to the floating-point
number <span style="font-family: 楷体">d</span>. The conversion accuracy is reasonable but unspecified.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_from_float)"></a><a name="(idx._(gentag._470._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_from_float%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_from_float</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">float</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">f</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">If Racket is not compiled with single-precision floats, this procedure
is actually a macro alias for <a href="#%28cpp._scheme_bignum_from_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_from_double</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">char*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_to_string)"></a><a name="(idx._(gentag._471._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_to_string%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_to_string</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">radix</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Writes a bignum into a newly allocated byte string.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_read_bignum)"></a><a name="(idx._(gentag._472._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_read_bignum%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_read_bignum</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">mzchar*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">str</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">offset</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">radix</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Reads a bignum from a <span class="stt">mzchar</span> string, starting from position
 <span style="font-family: 楷体">offset</span> in <span style="font-family: 楷体">str</span>. If the string does not represent an
 integer, then <span class="stt">NULL</span> will be returned. If the string represents a
 number that fits in a fixnum, then a <a href="im_values_types.html#%28cpp._scheme_integer_type%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_integer_type</span></a>
 object will be returned.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_read_bignum_bytes)"></a><a name="(idx._(gentag._473._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_read_bignum_bytes%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_read_bignum_bytes</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">char*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">str</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">offset</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">radix</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_read_bignum%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_read_bignum</span></a>, but from a UTF-8-encoding byte string.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_bignum_normalize)"></a><a name="(idx._(gentag._474._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bignum_normalize%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bignum_normalize</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">If <span style="font-family: 楷体">n</span> fits in a fixnum, then a <a href="im_values_types.html#%28cpp._scheme_integer_type%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_integer_type</span></a> object
 will be returned. Otherwise, <span style="font-family: 楷体">n</span> is returned.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_rational)"></a><a name="(idx._(gentag._475._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_rational%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_rational</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">d</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a rational from a numerator and denominator. The <span style="font-family: 楷体">n</span> and
<span style="font-family: 楷体">d</span> parameters must be fixnums or bignums (possibly mixed). The
resulting will be normalized (thus, a bignum or fixnum might be returned).</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">double</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_to_double)"></a><a name="(idx._(gentag._476._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_to_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_to_double</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Converts the rational <span style="font-family: 楷体">n</span> to a <span class="stt">double</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">float</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_to_float)"></a><a name="(idx._(gentag._477._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_to_float%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_to_float</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">If Racket is not compiled with single-precision floats, this procedure
is actually a macro alias for <a href="#%28cpp._scheme_rational_to_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_to_double</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_numerator)"></a><a name="(idx._(gentag._478._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_numerator%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_numerator</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the numerator of the rational <span style="font-family: 楷体">n</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_denominator)"></a><a name="(idx._(gentag._479._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_denominator%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_denominator</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the denominator of the rational <span style="font-family: 楷体">n</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_from_double)"></a><a name="(idx._(gentag._480._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_from_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_from_double</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">double</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">d</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Converts the given <span class="stt">double</span> into a maximally-precise rational.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_rational_from_float)"></a><a name="(idx._(gentag._481._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_rational_from_float%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_from_float</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">float</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">d</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">If Racket is not compiled with single-precision floats, this procedure
is actually a macro alias for <a href="#%28cpp._scheme_rational_from_double%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_rational_from_double</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_complex)"></a><a name="(idx._(gentag._482._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_complex%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_complex</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">r</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">i</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a complex number from real and imaginary parts. The <span style="font-family: 楷体">r</span>
and <span style="font-family: 楷体">i</span> arguments must be fixnums, bignums, flonums, or rationals
(possibly mixed). The resulting number will be normalized (thus, a real
number might be returned).</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_complex_real_part)"></a><a name="(idx._(gentag._483._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_complex_real_part%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_complex_real_part</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the real part of the complex number <span style="font-family: 楷体">n</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_complex_imaginary_part)"></a><a name="(idx._(gentag._484._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_complex_imaginary_part%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_complex_imaginary_part</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-family: 楷体">n</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the imaginary part of the complex number <span style="font-family: 楷体">n</span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="im_encodings.html" title="后退至&quot;13 String Encodings&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;Inside: Racket C API&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="Ports_and_the_Filesystem.html" title="前进至&quot;15 Ports and the Filesystem&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>