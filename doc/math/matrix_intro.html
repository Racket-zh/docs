<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>7.1&nbsp;Introduction</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Math Library</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="base.html" class="tocviewlink" data-pltdoc="x">Constants and Elementary Functions</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="flonum.html" class="tocviewlink" data-pltdoc="x">Flonums</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="special.html" class="tocviewlink" data-pltdoc="x">Special Functions</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="number-theory.html" class="tocviewlink" data-pltdoc="x">Number Theory</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="bigfloat.html" class="tocviewlink" data-pltdoc="x">Arbitrary-<wbr></wbr>Precision Floating-<wbr></wbr>Point Numbers (<a name="(tech._bigfloat)"></a><span style="font-family: 楷体">Bigfloats</span>)</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="array.html" class="tocviewlink" data-pltdoc="x">Arrays</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="matrices.html" class="tocviewselflink" data-pltdoc="x">Matrices and Linear Algebra</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="stats.html" class="tocviewlink" data-pltdoc="x">Statistics Functions</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="dist.html" class="tocviewlink" data-pltdoc="x">Probability Distributions</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="utils.html" class="tocviewlink" data-pltdoc="x">Stuff That Doesn&rsquo;t Belong Anywhere Else</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>7&nbsp;</td><td><a href="matrices.html" class="tocviewlink" data-pltdoc="x">Matrices and Linear Algebra</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">7.2&nbsp;</td><td><a href="matrix_types.html" class="tocviewlink" data-pltdoc="x">Types, Predicates and Accessors</a></td></tr><tr><td align="right">7.3&nbsp;</td><td><a href="matrix_construction.html" class="tocviewlink" data-pltdoc="x">Construction</a></td></tr><tr><td align="right">7.4&nbsp;</td><td><a href="matrix_conversion.html" class="tocviewlink" data-pltdoc="x">Conversion</a></td></tr><tr><td align="right">7.5&nbsp;</td><td><a href="matrix_arith.html" class="tocviewlink" data-pltdoc="x">Entrywise Operations and Arithmetic</a></td></tr><tr><td align="right">7.6&nbsp;</td><td><a href="matrix_poly.html" class="tocviewlink" data-pltdoc="x">Polymorphic Operations</a></td></tr><tr><td align="right">7.7&nbsp;</td><td><a href="matrix_basic.html" class="tocviewlink" data-pltdoc="x">Basic Operations</a></td></tr><tr><td align="right">7.8&nbsp;</td><td><a href="matrix_inner.html" class="tocviewlink" data-pltdoc="x">Inner Product Space Operations</a></td></tr><tr><td align="right">7.9&nbsp;</td><td><a href="matrix_solve.html" class="tocviewlink" data-pltdoc="x">Solving Systems of Equations</a></td></tr><tr><td align="right">7.10&nbsp;</td><td><a href="matrix_row-alg.html" class="tocviewlink" data-pltdoc="x">Row-<wbr></wbr>Based Algorithms</a></td></tr><tr><td align="right">7.11&nbsp;</td><td><a href="matrix_ortho-alg.html" class="tocviewlink" data-pltdoc="x">Orthogonal Algorithms</a></td></tr><tr><td align="right">7.12&nbsp;</td><td><a href="matrix_op-norm.html" class="tocviewlink" data-pltdoc="x">Operator Norms and Comparing Matrices</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>7.1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Introduction</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.1.1&nbsp;</td><td><a href="#%28part._matrix~3afunction-types%29" class="tocviewlink" data-pltdoc="x">Function Types</a></td></tr><tr><td align="right">7.1.2&nbsp;</td><td><a href="#%28part._matrix~3afailure%29" class="tocviewlink" data-pltdoc="x">Failure Arguments</a></td></tr><tr><td align="right">7.1.3&nbsp;</td><td><a href="#%28part._matrix~3abroadcasting%29" class="tocviewlink" data-pltdoc="x">Broadcasting</a></td></tr><tr><td align="right">7.1.4&nbsp;</td><td><a href="#%28part._.Strictness%29" class="tocviewlink" data-pltdoc="x">Strictness</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">7.1.1<tt>&nbsp;</tt></span><a href="#%28part._matrix~3afunction-types%29" class="tocsubseclink" data-pltdoc="x">Function Types</a></td></tr><tr><td><span class="tocsublinknumber">7.1.2<tt>&nbsp;</tt></span><a href="#%28part._matrix~3afailure%29" class="tocsubseclink" data-pltdoc="x">Failure Arguments</a></td></tr><tr><td><span class="tocsublinknumber">7.1.3<tt>&nbsp;</tt></span><a href="#%28part._matrix~3abroadcasting%29" class="tocsubseclink" data-pltdoc="x">Broadcasting</a></td></tr><tr><td><span class="tocsublinknumber">7.1.4<tt>&nbsp;</tt></span><a href="#%28part._.Strictness%29" class="tocsubseclink" data-pltdoc="x">Strictness</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="matrices.html" title="后退至&quot;7 Matrices and Linear Algebra&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="matrices.html" title="上至&quot;7 Matrices and Linear Algebra&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="matrix_types.html" title="前进至&quot;7.2 Types, Predicates and Accessors&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;math/scribblings/math.scrbl&quot;)" x-source-pkg="math-doc" x-part-tag="&quot;matrix:intro&quot;">7.1<tt>&nbsp;</tt><a name="(part._matrix~3aintro)"></a>Introduction</h4><p>From the point of view of the functions in <a href="matrices.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">math/matrix</span></a>, a <a name="(tech._matrix)"></a><span style="font-family: 楷体">matrix</span> is an
<span class="RktSym"><a href="array_types.html#%28form._%28%28lib._math%2Farray..rkt%29._.Array%29%29" class="RktStxLink" data-pltdoc="x">Array</a></span> with two axes and at least one entry, or an array for which <span class="RktSym"><a href="matrix_types.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix~3f%29%29" class="RktValLink" data-pltdoc="x">matrix?</a></span> returns
<span class="RktVal">#t</span>.</p><p>Technically, a matrix&rsquo;s entries may be any type, and some fully polymorphic matrix functions such as
<span class="RktSym"><a href="matrix_poly.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-row%29%29" class="RktValLink" data-pltdoc="x">matrix-row</a></span> and <span class="RktSym"><a href="matrix_arith.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-map%29%29" class="RktValLink" data-pltdoc="x">matrix-map</a></span> operate on any kind of matrix.
Other functions, such as <span class="RktSym"><a href="matrix_arith.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix%2B%29%29" class="RktValLink" data-pltdoc="x">matrix+</a></span>, require their matrix arguments to contain numeric values.</p><h5 x-source-module="(lib &quot;math/scribblings/math.scrbl&quot;)" x-source-pkg="math-doc" x-part-tag="&quot;matrix:function-types&quot;">7.1.1<tt>&nbsp;</tt><a name="(part._matrix~3afunction-types)"></a>Function Types</h5><p>The documentation for <a href="matrices.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">math/matrix</span></a> functions use the type <span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span>, a synonym
of <span class="RktSym"><a href="array_types.html#%28form._%28%28lib._math%2Farray..rkt%29._.Array%29%29" class="RktStxLink" data-pltdoc="x">Array</a></span>, when the function either requires that an argument is a <a href="#%28tech._matrix%29" class="techoutside" data-pltdoc="x"><span class="techinside">matrix</span></a> or ensures
that a return value is a matrix.</p><p><div class="SIntrapara">Most functions that implement matrix algorithms are documented as accepting <span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span>
values. This includes <span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span>, which is a subtype. Most of these functions have a more
precise type than is documented. For example, <span class="RktSym"><a href="matrix_basic.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-conjugate%29%29" class="RktValLink" data-pltdoc="x">matrix-conjugate</a></span> has the type
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._case-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">case-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Flonum%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Flonum</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Flonum%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Flonum</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Real%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Real</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Float-.Complex%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Float-Complex</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Float-.Complex%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Float-Complex</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">but is documented as having the type <span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara">Precise function types allow Typed Racket to prove more facts about <a href="matrices.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">math/matrix</span></a>
client programs. In particular, it is usually easy for it to prove that operations on real
matrices return real matrices:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_basic.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-conjugate%29%29" class="RktValLink" data-pltdoc="x">matrix-conjugate</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._matrix%29%29" class="RktStxLink" data-pltdoc="x">matrix</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : (Array Real)</span></p></td></tr><tr><td><p><span class="RktRes">(array #[#[1 2 3] #[4 5 6]])</span></p></td></tr></table></blockquote></div><div class="SIntrapara">and that operations on inexact matrices return inexact matrices:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_basic.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-conjugate%29%29" class="RktValLink" data-pltdoc="x">matrix-conjugate</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._matrix%29%29" class="RktStxLink" data-pltdoc="x">matrix</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">1.0+2.0i</span><span class="hspace">&nbsp;</span><span class="RktVal">2.0+3.0i</span><span class="hspace">&nbsp;</span><span class="RktVal">3.0+4.0i</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">4.0+5.0i</span><span class="hspace">&nbsp;</span><span class="RktVal">5.0+6.0i</span><span class="hspace">&nbsp;</span><span class="RktVal">6.0+7.0i</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">- : (Array Float-Complex)</span></p></td></tr><tr><td><p><span class="RktRes">(array #[#[1.0-2.0i 2.0-3.0i 3.0-4.0i] #[4.0-5.0i 5.0-6.0i 6.0-7.0i]])</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;math/scribblings/math.scrbl&quot;)" x-source-pkg="math-doc" x-part-tag="&quot;matrix:failure&quot;">7.1.2<tt>&nbsp;</tt><a name="(part._matrix~3afailure)"></a>Failure Arguments</h5><p>In many matrix operations, such as inversion, failure is easy to detect during computation, but
is just as expensive to detect ahead of time as the operation itself.
In these cases, the functions implementing the operations accept an optional <a name="(tech._failure._thunk)"></a><span style="font-family: 楷体">failure thunk</span>,
or a zero-argument function that returns the result of the operation in case of failure.</p><p><div class="SIntrapara">For example, the (simplified) type of <span class="RktSym"><a href="matrix_solve.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix-inverse%29%29" class="RktValLink" data-pltdoc="x">matrix-inverse</a></span> is
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._.All%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">All</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">F</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._case-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">case-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">F</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._.U%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">U</a></span><span class="hspace">&nbsp;</span><span class="RktSym">F</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Thus, if a failure thunk is given, the call site is required to check for return values of type
<span class="RktSym">F</span> explicitly.</div></p><p>Default failure thunks usually raise an error, and have the type <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Nothing%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Nothing</a></span><span class="RktPn">)</span>.
For such failure thunks, <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types-extra..rkt%2529._.U%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">U</a></span><span class="stt"> </span><span class="RktSym">F</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span> is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="matrix_types.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._.Matrix%29%29" class="RktStxLink" data-pltdoc="x">Matrix</a></span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Number%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Number</a></span><span class="RktPn">)</span>,
because <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=ts-reference&amp;rel=type-ref.html%23%2528form._%2528%2528lib._typed-racket%252Fbase-env%252Fbase-types..rkt%2529._.Nothing%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">Nothing</a></span> is part of every type. (In Racket, any expression may raise an error.)
Thus, in this case, no explicit test for values of type <span class="RktSym">F</span> is necessary (though of course they
may be caught using <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._with-handlers%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">with-handlers</a></span> or similar).</p><h5 x-source-module="(lib &quot;math/scribblings/math.scrbl&quot;)" x-source-pkg="math-doc" x-part-tag="&quot;matrix:broadcasting&quot;">7.1.3<tt>&nbsp;</tt><a name="(part._matrix~3abroadcasting)"></a>Broadcasting</h5><p><div class="SIntrapara">Unlike array operations, pointwise matrix operations <span style="font-weight: bold">do not</span> <a href="array_defs.html#%28tech._broadcast%29" class="techoutside" data-pltdoc="x"><span class="techinside">broadcast</span></a> their arguments
when given matrices with different axis lengths:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_arith.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._matrix%2B%29%29" class="RktValLink" data-pltdoc="x">matrix+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._identity-matrix%29%29" class="RktValLink" data-pltdoc="x">identity-matrix</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._matrix%29%29" class="RktStxLink" data-pltdoc="x">matrix</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">10</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">matrix-map: matrices must have the same shape; given (array</span></p></td></tr><tr><td><p><span class="RktErr">#[#[1 0] #[0 1]]) (array #[#[10]])</span></p></td></tr></table></blockquote></div><div class="SIntrapara">If you need broadcasting, use array operations:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="array_pointwise.html#%28form._%28%28lib._math%2Farray..rkt%29._array%2B%29%29" class="RktStxLink" data-pltdoc="x">array+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28def._%28%28lib._math%2Fmatrix..rkt%29._identity-matrix%29%29" class="RktValLink" data-pltdoc="x">identity-matrix</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="matrix_construction.html#%28form._%28%28lib._math%2Fmatrix..rkt%29._matrix%29%29" class="RktStxLink" data-pltdoc="x">matrix</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">10</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">- : (Array Index)</span></p></td></tr><tr><td><p><span class="RktRes">(array #[#[11 10] #[10 11]])</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;math/scribblings/math.scrbl&quot;)" x-source-pkg="math-doc" x-part-tag="&quot;Strictness&quot;">7.1.4<tt>&nbsp;</tt><a name="(part._.Strictness)"></a>Strictness</h5><p>Functions exported by <a href="matrices.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">math/matrix</span></a> return <a href="array_nonstrict.html#%28tech._strict%29" class="techoutside" data-pltdoc="x"><span class="techinside">strict</span></a> or <a href="array_nonstrict.html#%28tech._nonstrict%29" class="techoutside" data-pltdoc="x"><span class="techinside">nonstrict</span></a> arrays
based on the value of the <span class="RktSym"><a href="array_strict.html#%28def._%28%28lib._math%2Farray..rkt%29._array-strictness%29%29" class="RktValLink" data-pltdoc="x">array-strictness</a></span> parameter.
See <a href="array_nonstrict.html" data-pltdoc="x">Nonstrict Arrays</a> for details.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="matrices.html" title="后退至&quot;7 Matrices and Linear Algebra&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="matrices.html" title="上至&quot;7 Matrices and Linear Algebra&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="matrix_types.html" title="前进至&quot;7.2 Types, Predicates and Accessors&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>