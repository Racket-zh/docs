7114
((3) 0 () 11 ((q lib "pkg/lib.rkt") (q lib "pkg/path.rkt") (q lib "pkg/main.rkt") (q lib "pkg/db.rkt") (q 21286 . 2) (q 21402 . 3) (q 24241 . 10) (q 21327 . 3) (q lib "pkg/name.rkt") (q 20726 . 13) (q lib "pkg/strip.rkt")) () (h ! (equal) ((c form c (c (? . 0) q with-pkg-lock)) q (1408 . 2)) ((c def c (c (? . 3) q pkg-source)) c (? . 6)) ((c def c (c (? . 1) q struct:sc-pkg-info)) c (? . 4)) ((c def c (c (? . 8) q package-source->name+type)) q (23400 . 14)) ((c def c (c (? . 0) q pkg-desc?)) q (3955 . 3)) ((c def c (c (? . 0) q current-pkg-download-cache-max-files)) q (2496 . 4)) ((c def c (c (? . 0) q pkg-config-catalogs)) q (2234 . 2)) ((c def c (c (? . 1) q pkg-info/alt-dir-name)) c (? . 7)) ((c def c (c (? . 2) q pkg-catalog-copy-command)) q (1235 . 2)) ((c def c (c (? . 0) q pkg-new)) q (11607 . 3)) ((c def c (c (? . 2) q pkg-update-command)) q (929 . 2)) ((c def c (c (? . 3) q set-pkgs!)) q (24988 . 8)) ((c def c (c (? . 0) q pkg-update)) q (8345 . 46)) ((c def c (c (? . 1) q sc-pkg-info)) c (? . 4)) ((c def c (c (? . 1) q sc-pkg-info/alt?)) c (? . 5)) ((c def c (c (? . 0) q pkg-migrate)) q (12401 . 28)) ((c def c (c (? . 1) q path->pkg+subpath+scope)) q (21826 . 8)) ((c def c (c (? . 1) q sc-pkg-info/alt)) c (? . 5)) ((c def c (c (? . 2) q pkg-show-command)) q (1040 . 2)) ((c def c (c (? . 2) q pkg-new-command)) q (1005 . 2)) ((c def c (c (? . 3) q set-catalogs!)) q (24752 . 3)) ((c def c (c (? . 1) q get-pkgs-dir)) q (22746 . 5)) ((c def c (c (? . 0) q pkg-show)) q (11669 . 17)) ((c def c (c (? . 0) q pkg-remove)) q (10708 . 21)) ((c def c (c (? . 2) q pkg-create-command)) q (1153 . 2)) ((c def c (c (? . 2) q pkg-config-command)) q (1115 . 2)) ((c def c (c (? . 3) q pkg-author)) c (? . 6)) ((c form c (c (? . 0) q with-pkg-lock/read-only)) q (1443 . 2)) ((c def c (c (? . 3) q current-pkg-catalog-file)) q (24508 . 4)) ((c def c (c (? . 0) q get-all-pkg-scopes)) q (17805 . 3)) ((c def c (c (? . 0) q pkg-create)) q (5606 . 15)) ((c def c (c (? . 2) q pkg-catalog-archive-command)) q (1279 . 2)) ((c def c (c (? . 3) q get-catalogs)) q (24707 . 2)) ((c def c (c (? . 0) q get-pkg-details-from-catalogs)) q (18042 . 4)) ((c def c (c (? . 0) q pkg-catalog-show)) q (13773 . 9)) ((c def c (c (? . 2) q pkg-remove-command)) q (967 . 2)) ((c def c (c (? . 1) q sc-pkg-info?)) c (? . 4)) ((c def c (c (? . 0) q extract-pkg-dependencies)) q (19139 . 10)) ((c def c (c (? . 3) q get-pkg-tags)) q (25960 . 4)) ((c def c (c (? . 2) q pkg-archive-command)) q (1326 . 2)) ((c def c (c (? . 1) q struct:pkg-info)) c (? . 9)) ((c def c (c (? . 3) q get-pkgs-without-modules)) q (27477 . 3)) ((c def c (c (? . 1) q struct:pkg-info/alt)) c (? . 7)) ((c def c (c (? . 1) q path->pkg+subpath+collect+scope)) q (22399 . 9)) ((c def c (c (? . 3) q struct:pkg)) c (? . 6)) ((c def c (c (? . 0) q current-pkg-download-cache-max-bytes)) q (2665 . 4)) ((c def c (c (? . 8) q package-source->name)) q (23251 . 4)) ((c def c (c (? . 0) q pkg-single-collection)) q (18151 . 8)) ((c def c (c (? . 3) q set-pkg-ring!)) q (26339 . 5)) ((c def c (c (? . 10) q check-strip-compatible)) q (276 . 9)) ((c def c (c (? . 0) q current-pkg-scope-version)) q (1752 . 4)) ((c def c (c (? . 0) q default-pkg-scope)) q (3478 . 3)) ((c def c (c (? . 0) q current-pkg-trash-max-seconds)) q (2997 . 4)) ((c def c (c (? . 0) q pkg-empty-trash)) q (16629 . 5)) ((c def c (c (? . 3) q get-pkg-dependencies)) q (26491 . 5)) ((c def c (c (? . 0) q current-pkg-trash-max-packages)) q (2834 . 4)) ((c def c (c (? . 0) q pkg-desc)) q (4007 . 14)) ((c def c (c (? . 3) q call-with-pkgs-transaction)) q (24633 . 3)) ((c def c (c (? . 3) q pkg)) c (? . 6)) ((c def c (c (? . 3) q get-module-pkgs)) q (27386 . 3)) ((c def c (c (? . 8) q package-source-format?)) q (23186 . 3)) ((c def c (c (? . 3) q make-pkg)) c (? . 6)) ((c def c (c (? . 1) q pkg-info?)) c (? . 9)) ((c def c (c (? . 3) q get-pkg-modules)) q (26944 . 5)) ((c def c (c (? . 0) q pkg-install)) q (6400 . 38)) ((c def c (c (? . 0) q pkg-directory->module-paths)) q (19587 . 8)) ((c def c (c (? . 1) q pkg-info/alt)) c (? . 7)) ((c def c (c (? . 1) q struct:sc-pkg-info/alt)) c (? . 5)) ((c def c (c (? . 0) q current-pkg-lookup-version)) q (1863 . 4)) ((c def c (c (? . 3) q pkg-name)) c (? . 6)) ((c def c (c (? . 1) q read-pkg-file-hash)) q (23122 . 3)) ((c def c (c (? . 3) q set-pkg-modules!)) q (27092 . 9)) ((c def c (c (? . 1) q read-pkgs-db)) q (22952 . 4)) ((c def c (c (? . 3) q get-pkgs)) q (24831 . 4)) ((c def c (c (? . 3) q pkg-catalog)) c (? . 6)) ((c def c (c (? . 1) q path->pkg+subpath)) q (21637 . 5)) ((c def c (c (? . 10) q fixup-local-redirect-reference)) q (604 . 5)) ((c def c (c (? . 10) q generate-stripped-directory)) q (0 . 7)) ((c def c (c (? . 0) q pkg-catalog-suggestions-for-module)) q (17486 . 7)) ((c def c (c (? . 0) q pkg-catalog-copy)) q (14138 . 16)) ((c def c (c (? . 2) q pkg-empty-trash-command)) q (1365 . 2)) ((c def c (c (? . 1) q path->pkg)) q (21483 . 4)) ((c def c (c (? . 3) q set-pkg!)) q (25302 . 16)) ((c def c (c (? . 0) q installed-pkg-table)) q (3775 . 5)) ((c def c (c (? . 3) q pkg-desc)) c (? . 6)) ((c def c (c (? . 1) q pkg-info-checksum)) c (? . 9)) ((c def c (c (? . 0) q current-pkg-scope)) q (1488 . 6)) ((c def c (c (? . 8) q package-source->path)) q (24096 . 4)) ((c def c (c (? . 0) q get-all-pkg-details-from-catalogs)) q (17949 . 3)) ((c def c (c (? . 3) q pkg-checksum)) c (? . 6)) ((c def c (c (? . 1) q pkg-info-auto?)) c (? . 9)) ((c def c (c (? . 1) q pkg-info-orig-pkg)) c (? . 9)) ((c def c (c (? . 2) q pkg-install-command)) q (890 . 2)) ((c def c (c (? . 0) q pkg-archive-pkgs)) q (15787 . 17)) ((c def c (c (? . 3) q set-pkg-tags!)) q (26065 . 5)) ((c def c (c (? . 3) q set-pkg-dependencies!)) q (26637 . 9)) ((c def c (c (? . 3) q pkg?)) c (? . 6)) ((c def c (c (? . 1) q pkg-info/alt?)) c (? . 7)) ((c def c (c (? . 2) q pkg-catalog-show-command)) q (1191 . 2)) ((c def c (c (? . 0) q installed-pkg-names)) q (3607 . 4)) ((c def c (c (? . 1) q sc-pkg-info/alt-dir-name)) c (? . 5)) ((c def c (c (? . 0) q get-all-pkg-names-from-catalogs)) q (17885 . 2)) ((c def c (c (? . 1) q pkg-info)) c (? . 9)) ((c def c (c (? . 0) q pkg-catalog-update-local)) q (16801 . 13)) ((c def c (c (? . 0) q pkg-stage)) q (4526 . 22)) ((c def c (c (? . 2) q pkg-migrate-command)) q (1076 . 2)) ((c def c (c (? . 0) q current-pkg-network-retries)) q (3156 . 4)) ((c def c (c (? . 0) q pkg-catalog-archive)) q (14842 . 18)) ((c def c (c (? . 0) q current-pkg-download-cache-dir)) q (2286 . 5)) ((c def c (c (? . 0) q get-pkg-content)) q (18486 . 17)) ((c def c (c (? . 0) q pkg-directory)) q (3311 . 4)) ((c def c (c (? . 1) q path->pkg+subpath+collect)) q (22133 . 8)) ((c def c (c (? . 10) q strip-binary-compile-info)) q (766 . 4)) ((c def c (c (? . 3) q get-pkg-ring)) q (26212 . 5)) ((c def c (c (? . 0) q pkg-directory->additional-installs)) q (19901 . 14)) ((c def c (c (? . 0) q pkg-config)) q (5310 . 7)) ((c def c (c (? . 0) q current-pkg-catalogs)) q (2081 . 4)) ((c def c (c (? . 0) q current-pkg-error)) q (1976 . 4)) ((q def ((lib "pkg/dirs-catalog.rkt") create-dirs-catalog)) q (27596 . 15))))
函数
(generate-stripped-directory mode          
                             src-dir       
                             dest-dir) -> void?
  mode : (or/c 'source 'binary 'binary-lib 'built)
  src-dir : path-string?
  dest-dir : path-string?
函数
(check-strip-compatible mode         
                        pkg-name     
                        dir          
                        error)   -> any
  mode : (or/c 'source 'binary 'binary-lib 'built)
  pkg-name : string?
  dir : path-string?
  error : (string? . -> . any)
函数
(fixup-local-redirect-reference file         
                                js-path) -> void?
  file : path-string?
  js-path : string?
parameter
(strip-binary-compile-info) -> boolean?
(strip-binary-compile-info compile?) -> void?
  compile? : any/c
值
pkg-install-command : procedure?
值
pkg-update-command : procedure?
值
pkg-remove-command : procedure?
值
pkg-new-command : procedure?
值
pkg-show-command : procedure?
值
pkg-migrate-command : procedure?
值
pkg-config-command : procedure?
值
pkg-create-command : procedure?
值
pkg-catalog-show-command : procedure?
值
pkg-catalog-copy-command : procedure?
值
pkg-catalog-archive-command : procedure?
值
pkg-archive-command : procedure?
值
pkg-empty-trash-command : procedure?
语法
(with-pkg-lock body ...+)
语法
(with-pkg-lock/read-only body ...+)
parameter
(current-pkg-scope) -> (or/c 'installation 'user
                             (and/c path? complete-path?))
(current-pkg-scope scope) -> void?
  scope : (or/c 'installation 'user
                (and/c path? complete-path?))
parameter
(current-pkg-scope-version) -> string?
(current-pkg-scope-version s) -> void?
  s : string?
parameter
(current-pkg-lookup-version) -> string?
(current-pkg-lookup-version s) -> void?
  s : string?
parameter
(current-pkg-error) -> procedure?
(current-pkg-error err) -> void?
  err : procedure?
parameter
(current-pkg-catalogs) -> (or/c #f (listof url?))
(current-pkg-catalogs catalogs) -> void?
  catalogs : (or/c #f (listof url?))
函数
(pkg-config-catalogs) -> (listof string?)
parameter
(current-pkg-download-cache-dir)
 -> (or/c #f (and/c path-string? complete-path?))
(current-pkg-download-cache-dir dir) -> void?
  dir : (or/c #f (and/c path-string? complete-path?))
parameter
(current-pkg-download-cache-max-files) -> (or/c #f real?)
(current-pkg-download-cache-max-files max-files) -> void?
  max-files : (or/c #f real?)
parameter
(current-pkg-download-cache-max-bytes) -> (or/c #f real?)
(current-pkg-download-cache-max-bytes max-bytes) -> void?
  max-bytes : (or/c #f real?)
parameter
(current-pkg-trash-max-packages) -> (or/c #f real?)
(current-pkg-trash-max-packages max-packages) -> void?
  max-packages : (or/c #f real?)
parameter
(current-pkg-trash-max-seconds) -> (or/c #f real?)
(current-pkg-trash-max-seconds max-seconds) -> void?
  max-seconds : (or/c #f real?)
parameter
(current-pkg-network-retries) -> (or/c #f real?)
(current-pkg-network-retries max-retries) -> void?
  max-retries : (or/c #f real?)
函数
(pkg-directory name [#:cache cache]) -> (or/c path-string? #f)
  name : string?
  cache : (or/c #f (and/c hash? (not/c immutable?))) = #f
函数
(default-pkg-scope) -> (or/c 'installation 'user
                              (and/c path? complete-path?))
函数
(installed-pkg-names #:scope scope) -> (listof string?)
  scope : (or/c #f 'installation 'user
                (and/c path? complete-path?))
函数
(installed-pkg-table #:scope scope)
 -> (hash/c string? pkg-info?)
  scope : (or/c #f 'installation 'user
                (and/c path? complete-path?))
函数
(pkg-desc? v) -> boolean?
  v : any/c
函数
(pkg-desc  source            
           type              
           name              
           checksum          
           auto?             
          [#:path path]) -> pkg-desc?
  source : string?
  type : (or/c #f 'name 'file 'dir 'link 'static-link
               'file-url 'dir-url 'git 'github 'clone)
  name : (or/c string? #f)
  checksum : (or/c string? #f)
  auto? : boolean?
  path : (or/c #f path-string?) = #f
函数
(pkg-stage  desc                         
           [#:checksum checksum          
            #:in-place? in-place?        
            #:namespace namespace        
            #:strip strip                
            #:force-strip? force-string? 
            #:use-cache? use-cache?      
            #:quiet? quiet?])            
 -> string?
    path?
    (or/c #f string?)
    boolean?
    (listof module-path?)
  desc : pkg-desc?
  checksum : (or/c #f string?) = #f
  in-place? : boolean? = #f
  namespace : namespace? = (make-base-namespace)
  strip : (or/c #f 'source 'binary 'binary-lib) = #f
  force-string? : boolean? = #f
  use-cache? : boolean? = #f
  quiet? : boolean? = #t
函数
(pkg-config  set?                                          
             keys/vals                                     
            [#:from-command-line? from-command-line?]) -> void?
  set? : boolean?
  keys/vals : list?
  from-command-line? : boolean? = #f
函数
(pkg-create  format                                        
             dir                                           
             #:source source                               
             #:mode mode                                   
             #:dest dest-dir                               
            [#:quiet? quiet?                               
             #:from-command-line? from-command-line?]) -> void?
  format : (or/c 'zip 'tgz 'plt 'MANIFEST)
  dir : path-string?
  source : (or/c 'dir 'name)
  mode : (or/c 'as-is 'source 'binary 'binary-lib 'built)
  dest-dir : (or/c (and/c path-string? complete-path?) #f)
  quiet? : boolean? = #f
  from-command-line? : boolean? = #f
函数
(pkg-install  descs                                         
             [#:dep-behavior dep-behavior                   
              #:update-deps? update-deps?                   
              #:force? force?                               
              #:ignore-checksums? ignore-checksums?         
              #:strict-doc-conflicts? strict-doc-conflicts? 
              #:use-cache? use-cache?                       
              #:quiet? quiet?                               
              #:use-trash? use-trash?                       
              #:from-command-line? from-command-line?       
              #:strip strip                                 
              #:force-strip? force-string?                  
              #:multi-clone-mode multi-clone-mode           
              #:pull-mode pull-mode                         
              #:link-dirs? link-dirs?                       
              #:dry-run? dry-run?])                         
 -> (or/c 'skip
          #f
          (listof (or/c path-string?
                        (non-empty-listof path-string?))))
  descs : (listof pkg-desc?)
  dep-behavior : (or/c #f 'fail 'force 'search-ask 'search-auto)
               = #f
  update-deps? : boolean? = #f
  force? : boolean? = #f
  ignore-checksums? : boolean? = #f
  strict-doc-conflicts? : boolean? = #f
  use-cache? : boolean? = #t
  quiet? : boolean? = #f
  use-trash? : boolean? = #f
  from-command-line? : boolean? = #f
  strip : (or/c #f 'source 'binary 'binary-lib) = #f
  force-string? : boolean? = #f
  multi-clone-mode : (or/c 'fail 'force 'convert 'ask) = 'fail
  pull-mode : (or/c 'ff-only 'try 'rebase) = 'ff-only
  link-dirs? : boolean? = #f
  dry-run? : boolean? = #f
函数
(pkg-update  sources                                       
            [#:all? all?                                   
             #:dep-behavior dep-behavior                   
             #:update-deps? update-deps?                   
             #:force? force?                               
             #:ignore-checksums? ignore-checksums?         
             #:strict-doc-conflicts? strict-doc-conflicts? 
             #:use-cache? use-cache?                       
             #:skip-uninstalled? skip-uninstalled?         
             #:quiet? quiet?                               
             #:use-trash? use-trash?                       
             #:from-command-line? from-command-line?       
             #:strip strip                                 
             #:force-strip? force-string?                  
             #:lookup-for-clone? lookup-for-clone?         
             #:multi-clone-mode multi-clone-mode           
             #:pull-mode pull-mode                         
             #:link-dirs? link-dirs?                       
             #:infer-clone-from-dir? infer-clone-from-dir? 
             #:dry-run? dry-run?])                         
 -> (or/c 'skip
          #f
          (listof (or/c path-string?
                        (non-empty-listof path-string?))))
  sources : (listof (or/c string? pkg-desc?))
  all? : boolean? = #f
  dep-behavior : (or/c #f 'fail 'force 'search-ask 'search-auto)
               = #f
  update-deps? : boolean? = #f
  force? : boolean? = #f
  ignore-checksums? : boolean? = #f
  strict-doc-conflicts? : boolean? = #f
  use-cache? : boolean? = #t
  skip-uninstalled? : boolean? = #t
  quiet? : boolean? = #f
  use-trash? : boolean? = #f
  from-command-line? : boolean? = #f
  strip : (or/c #f 'source 'binary 'binary-lib) = #f
  force-string? : boolean? = #f
  lookup-for-clone? : boolean? = #f
  multi-clone-mode : (or/c 'fail 'force 'convert 'ask) = 'fail
  pull-mode : (or/c 'ff-only 'try 'rebase) = 'ff-only
  link-dirs? : boolean? = #f
  infer-clone-from-dir? : boolean? = #f
  dry-run? : boolean? = #f
函数
(pkg-remove  names                                   
            [#:demote? demote?                       
             #:auto? auto?                           
             #:force? force?                         
             #:quiet? quiet?                         
             #:use-trash? boolean?                   
             #:from-command-line? from-command-line? 
             #:dry-run? dry-run?])                   
 -> (or/c 'skip
          #f
          (listof (or/c path-string?
                        (non-empty-listof path-string?))))
  names : (listof string?)
  demote? : boolean? = #f
  auto? : boolean? = #f
  force? : boolean? = #f
  quiet? : boolean? = #f
  boolean? : use-trash? = #f
  from-command-line? : boolean? = #f
  dry-run? : boolean? = #f
函数
(pkg-new name) -> (void?)
  name : path-string?
函数
(pkg-show  indent                              
           pkgs-or-patterns                    
          [#:prefix-line prefix-line           
           #:auto? auto?                       
           #:rx? rx?                           
           #:long? long?                       
           #:full-checksum? full-checksum?     
           #:directory show-dir?])         -> void?
  indent : string?
  pkgs-or-patterns : (or/c #f (listof string?))
  prefix-line : (or/c #f string?) = #f
  auto? : boolean? = #f
  rx? : boolean? = #f
  long? : boolean? = #f
  full-checksum? : boolean? = #f
  show-dir? : boolean? = #f
函数
(pkg-migrate  from-version                                  
             [#:dep-behavior dep-behavior                   
              #:force? force?                               
              #:use-cache? use-cache?                       
              #:ignore-checksums? ignore-checksums?         
              #:strict-doc-conflicts? strict-doc-conflicts? 
              #:quiet? quiet?                               
              #:from-command-line? from-command-line?       
              #:strip strip                                 
              #:force-strip? force-string?                  
              #:dry-run? dry-run?])                         
 -> (or/c 'skip
          #f
          (listof (or/c path-string?
                        (non-empty-listof path-string?))))
  from-version : string?
  dep-behavior : (or/c #f 'fail 'force 'search-ask 'search-auto)
               = #f
  force? : boolean? = #f
  use-cache? : boolean? = #t
  ignore-checksums? : boolean? = #f
  strict-doc-conflicts? : boolean? = #f
  quiet? : boolean? = #f
  from-command-line? : boolean? = #f
  strip : (or/c #f 'source 'binary 'binary-lib) = #f
  force-string? : boolean? = #f
  dry-run? : boolean? = #f
函数
(pkg-catalog-show  names                         
                  [#:all? all?                   
                   #:only-names? only-names?     
                   #:modules? modules?])     -> void?
  names : (listof string?)
  all? : boolean? = #f
  only-names? : boolean? = #f
  modules? : boolean? = #f
函数
(pkg-catalog-copy  sources                                 
                   dest                                    
                  [#:from-config? from-config?             
                   #:merge? merge?                         
                   #:force? force?                         
                   #:override? override?                   
                   #:relative-sources? relative-sources?]) 
 -> void?
  sources : (listof path-string?)
  dest : path-string?
  from-config? : boolean? = #f
  merge? : boolean? = #f
  force? : boolean? = #f
  override? : boolean? = #f
  relative-sources? : boolean? = #f
函数
(pkg-catalog-archive                                              
                      dest-dir                                    
                      sources                                     
                     [#:from-config? from-config?                 
                      #:state-catalog state-catalog               
                      #:relative-sources? relative-sources?       
                      #:quiet? quiet?                             
                      #:package-exn-handler package-exn-handler]) 
 -> void?
  dest-dir : path-string?
  sources : (listof path-string?)
  from-config? : boolean? = #f
  state-catalog : (or/c #f path-string?) = #f
  relative-sources? : boolean? = #f
  quiet? : boolean? = #f
  package-exn-handler : (string? exn:fail? . -> . any)
                      = (lambda (pkg-name exn) (raise exn))
函数
(pkg-archive-pkgs  dest-dir                                    
                   pkgs                                        
                  [#:include-deps? include-deps?               
                   #:exclude exclude                           
                   #:relative-sources? relative-sources?       
                   #:quiet? quiet?                             
                   #:package-exn-handler package-exn-handler]) 
 -> void?
  dest-dir : path-string?
  pkgs : (listof path-string?)
  include-deps? : boolean? = #f
  exclude : (listof string?) = null
  relative-sources? : boolean? = #f
  quiet? : boolean? = #f
  package-exn-handler : (string? exn:fail? . -> . any)
                      = (lambda (pkg-name exn) (raise exn))
函数
(pkg-empty-trash [#:list? show-list?     
                  #:quiet? quiet?])  -> void?
  show-list? : boolean? = #f
  quiet? : boolean? = #t
函数
(pkg-catalog-update-local                                          
                          [#:catalogs catalogs                     
                           #:catalog-file catalog-file             
                           #:quiet? quiet?                         
                           #:set-catalogs? set-catalogs?           
                           #:consult-packages? consult-packages?]) 
 -> void?
  catalogs : (listof string?) = (pkg-config-catalogs)
  catalog-file : path-string? = (current-pkg-catalog-file)
  quiet? : boolean? = #f
  set-catalogs? : boolean? = #t
  consult-packages? : boolean? = #f
函数
(pkg-catalog-suggestions-for-module                                
                                     module-path                   
                                    [#:catalog-file catalog-file]) 
 -> (listof string?)
  module-path : module-path?
  catalog-file : path-string? = ....
函数
(get-all-pkg-scopes)
 -> (listof (or/c 'installation 'user path?))
函数
(get-all-pkg-names-from-catalogs) -> (listof string?)
函数
(get-all-pkg-details-from-catalogs)
 -> (hash/c string? (hash/c symbol? any/c))
函数
(get-pkg-details-from-catalogs name)
 -> (or/c #f (hash/c symbol? any/c))
  name : string?
函数
(pkg-single-collection  dir                     
                       [#:name name             
                        #:namespace namespace]) 
 -> (or/c #f string?)
  dir : path-string?
  name : string? = (elem "... from "(racket dir)" ...")
  namespace : namespace? = (make-base-namespapce)
函数
(get-pkg-content  desc                        
                 [#:extract-info extract-proc 
                  #:namespace namespace       
                  #:use-cache? use-cache?     
                  #:quiet? quiet?])           
 -> (or/c #f string?)
    (listof module-path?)
    any/c
  desc : pkg-desc?
  extract-proc : ((or/c #f
                        ((symbol?) ((-> any)) . ->* . any))
                  . -> . any)
               = (lambda (get-pkg-info) ...)
  namespace : namespace? = (make-base-namespace)
  use-cache? : boolean? = #f
  quiet? : boolean? = #t
函数
(extract-pkg-dependencies  info                      
                          [#:build-deps? build-deps? 
                           #:filter? filter?         
                           #:versions? versions?])   
 -> (listof (or/c string? (cons/c string? list?)))
  info : (symbol? (-> any/c) . -> . any/c)
  build-deps? : boolean? = #t
  filter? : boolean? = #f
  versions? : boolean? = #f
函数
(pkg-directory->module-paths  dir                     
                              pkg-name                
                             [#:namespace namespace]) 
 -> (listof module-path?)
  dir : path-string?
  pkg-name : string
  namespace : namespace? = (make-base-namespace)
函数
(pkg-directory->additional-installs                                             
                                     dir                                        
                                     pkg-name                                   
                                    [#:namespace namespace                      
                                     #:system-type sys-type                     
                                     #:system-library-subpath sys-lib-subpath]) 
 -> (listof (cons/c symbol? string?))
  dir : path-string?
  pkg-name : string
  namespace : namespace? = (make-base-namespace)
  sys-type : (or/c #f symbol?) = (system-type)
  sys-lib-subpath : (or/c #f path-for-some-system?)
                  = (system-library-subpath #f)
struct
(struct pkg-info (orig-pkg checksum auto?)
    #:prefab)
  orig-pkg : (or/c (list/c 'catalog string?)
                   (list/c 'catalog string? string?)
                   (list/c 'url string?)
                   (list/c 'file string?)
                   (list/c 'dir string?)
                   (list/c 'link string?)
                   (list/c 'static-link string?)
                   (list/c 'clone string? string?))
  checksum : (or/c #f string?)
  auto? : boolean?
struct
(struct sc-pkg-info pkg-info ())
struct
(struct pkg-info/alt pkg-info (dir-name))
  dir-name : string?
struct
(struct sc-pkg-info/alt sc-pkg-info (dir-name))
  dir-name : string?
函数
(path->pkg path #:cache cache) -> (or/c string? #f)
  path : path-string?
  cache : (or/c #f (and/c hash? (not/c immutable?)))
函数
(path->pkg+subpath path #:cache cache)
 -> (or/c string? #f) (or/c path? 'same #f)
  path : path-string?
  cache : (or/c #f (and/c hash? (not/c immutable?)))
函数
(path->pkg+subpath+scope path           
                         #:cache cache) 
 -> (or/c string? #f)
    (or/c path? 'same #f)
    (or/c 'installation 'user (and/c path? complete-path?) #f)
  path : path-string?
  cache : (or/c #f (and/c hash? (not/c immutable?)))
函数
(path->pkg+subpath+collect path           
                           #:cache cache) 
 -> (or/c string? #f)
    (or/c path? 'same #f)
    (or/c string? #f)
  path : path-string?
  cache : (or/c #f (and/c hash? (not/c immutable?)))
函数
(path->pkg+subpath+collect+scope path           
                                 #:cache cache) 
 -> (or/c string? #f)
    (or/c path? 'same #f)
    (or/c string? #f)
    (or/c 'installation 'user (and/c path? complete-path?) #f)
  path : path-string?
  cache : (or/c #f (and/c hash? (not/c immutable?)))
函数
(get-pkgs-dir scope [user-version]) -> path?
  scope : (or/c 'installation 'user 'shared
                 (and/c path? complete-path?))
  user-version : string? = (version)
函数
(read-pkgs-db scope) -> (hash/c string? pkg-info?)
  scope : (or/c 'installation 'user 'shared
                 (and/c path? complete-path?))
函数
(read-pkg-file-hash path) -> hash?
  path : path?
函数
(package-source-format? v) -> boolean?
  v : any/c
函数
(package-source->name source [type]) -> (or/c #f string?)
  source : string?
  type : (or/c package-source-format? #f) = #f
函数
(package-source->name+type                                       
                            source                               
                           [type                                 
                            #:complain complain-proc             
                            #:must-infer-name? must-infer-name?] 
                            #:link-dirs? link-dir?)              
 -> (or/c #f string?)
    (or/c package-source-format? #f)
  source : string?
  type : (or/c package-source-format? #f) = #f
  complain-proc : (string? string? . -> . any) = void
  must-infer-name? : boolean? = #f
  link-dir? : boolean?
函数
(package-source->path source [type]) -> path?
  source : string?
  type : (or/c #f 'file 'dir 'link 'static-link) = #f
struct
(struct pkg (name catalog author source checksum desc)
    #:extra-constructor-name make-pkg
    #:transparent)
  name : string?
  catalog : string?
  author : string?
  source : string?
  checksum : string?
  desc : string?
parameter
(current-pkg-catalog-file) -> path-string?
(current-pkg-catalog-file file) -> void?
  file : path-string?
函数
(call-with-pkgs-transaction proc) -> any
  proc : (-> any)
函数
(get-catalogs) -> (listof string?)
函数
(set-catalogs! catalogs) -> void?
  catalogs : (listof string?)
函数
(get-pkgs [#:name name #:catalog catalog]) -> (listof pkg?)
  name : (or/c #f string?) = #f
  catalog : (or/c #f string?) = #f
函数
(set-pkgs! catalog                                          
           pkgs                                             
           #:clear-other-checksums? clear-other-checksums?) 
 -> void?
  catalog : string?
  pkgs : (listof (or/c string? pkg?))
  clear-other-checksums? : #t
函数
(set-pkg! name                                             
          catalog                                          
          author                                           
          source                                           
          checksum                                         
          desc                                             
          #:clear-other-checksums? clear-other-checksums?) 
 -> void?
  name : string?
  catalog : string?
  author : string?
  source : string?
  checksum : string?
  desc : string?
  clear-other-checksums? : (not (equal? checksum ""))
函数
(get-pkg-tags name catalog) -> (listof string?)
  name : string?
  catalog : string?
函数
(set-pkg-tags! name catalog module-paths) -> void?
  name : string?
  catalog : string?
  module-paths : (listof string?)
函数
(get-pkg-ring name catalog)
 -> (or/c #f exact-nonnegative-integer?)
  name : string?
  catalog : string?
函数
(set-pkg-ring! name catalog ring) -> void?
  name : string?
  catalog : string?
  ring : (or/c #f exact-nonnegative-integer?)
函数
(get-pkg-dependencies name catalog checksum) -> (listof list?)
  name : string?
  catalog : string?
  checksum : string?
函数
(set-pkg-dependencies! name              
                       catalog           
                       checksum          
                       dependencies) -> void?
  name : string?
  catalog : string?
  checksum : string?
  dependencies : (listof any/c)
函数
(get-pkg-modules name catalog checksum) -> (listof module-path?)
  name : string?
  catalog : string?
  checksum : string?
函数
(set-pkg-modules! name              
                  catalog           
                  checksum          
                  module-paths) -> void?
  name : string?
  catalog : string?
  checksum : string?
  module-paths : (listof module-path?)
函数
(get-module-pkgs module-path) -> (listof pkg?)
  module-path : module-path?
函数
(get-pkgs-without-modules [#:catalog catalog]) -> (listof pkg?)
  catalog : (or/c #f string?) = #f
函数
(create-dirs-catalog  catalog-path                          
                      dirs                                  
                     [#:immediate? immediate?               
                      #:link? link?                         
                      #:merge? merge?                       
                      #:check-metadata? check-metadata?     
                      #:status-printf status-printf])   -> void?
  catalog-path : path-string?
  dirs : (listof path-string?)
  immediate? : any/c = #f
  link? : any/c = #f
  merge? : any/c = #f
  check-metadata? : any/c = #f
  status-printf : (string? any/c ... -> void?) = void
