<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8&nbsp;Editor Functions</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The Racket Graphical Interface Toolkit</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="windowing-overview.html" class="tocviewlink" data-pltdoc="x">Windowing</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Widget_Gallery.html" class="tocviewlink" data-pltdoc="x">Widget Gallery</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Windowing_Classes.html" class="tocviewlink" data-pltdoc="x">Windowing Classes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Windowing_Functions.html" class="tocviewlink" data-pltdoc="x">Windowing Functions</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="editor-overview.html" class="tocviewlink" data-pltdoc="x">Editors</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Snip_and_Style_Classes.html" class="tocviewlink" data-pltdoc="x">Snip and Style Classes</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Editor_Classes.html" class="tocviewlink" data-pltdoc="x">Editor Classes</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Editor Functions</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="WXME_Decoding.html" class="tocviewlink" data-pltdoc="x">WXME Decoding</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="mredprefs.html" class="tocviewlink" data-pltdoc="x">Preferences</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Dynamic_Loading.html" class="tocviewlink" data-pltdoc="x">Dynamic Loading</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Startup_Actions.html" class="tocviewlink" data-pltdoc="x">Startup Actions</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Init_Libraries.html" class="tocviewlink" data-pltdoc="x">Init Libraries</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="libs.html" class="tocviewlink" data-pltdoc="x">Platform Dependencies</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-editor-keymap-functions%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>editor-<wbr></wbr>keymap-<wbr></wbr>functions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-pasteboard-keymap-functions%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>pasteboard-<wbr></wbr>keymap-<wbr></wbr>functions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-text-keymap-functions%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>text-<wbr></wbr>keymap-<wbr></wbr>functions</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._append-editor-font-menu-items%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">append-<wbr></wbr>editor-<wbr></wbr>font-<wbr></wbr>menu-<wbr></wbr>items</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._append-editor-operation-menu-items%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">append-<wbr></wbr>editor-<wbr></wbr>operation-<wbr></wbr>menu-<wbr></wbr>items</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._current-text-keymap-initializer%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>text-<wbr></wbr>keymap-<wbr></wbr>initializer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._editor-set-x-selection-mode%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">editor-<wbr></wbr>set-<wbr></wbr>x-<wbr></wbr>selection-<wbr></wbr>mode</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._get-the-editor-data-class-list%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>the-<wbr></wbr>editor-<wbr></wbr>data-<wbr></wbr>class-<wbr></wbr>list</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._get-the-snip-class-list%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>the-<wbr></wbr>snip-<wbr></wbr>class-<wbr></wbr>list</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._map-command-as-meta-key%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">map-<wbr></wbr>command-<wbr></wbr>as-<wbr></wbr>meta-<wbr></wbr>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-graphical-file%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">open-<wbr></wbr>input-<wbr></wbr>graphical-<wbr></wbr>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">open-<wbr></wbr>input-<wbr></wbr>text-<wbr></wbr>editor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-output-text-editor%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">open-<wbr></wbr>output-<wbr></wbr>text-<wbr></wbr>editor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>editor-<wbr></wbr>global-<wbr></wbr>footer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>editor-<wbr></wbr>global-<wbr></wbr>header</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-version%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>editor-<wbr></wbr>version</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._text-editor-load-handler%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">text-<wbr></wbr>editor-<wbr></wbr>load-<wbr></wbr>handler</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._the-editor-wordbreak-map%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">the-<wbr></wbr>editor-<wbr></wbr>wordbreak-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._the-style-list%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">the-<wbr></wbr>style-<wbr></wbr>list</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>editor-<wbr></wbr>global-<wbr></wbr>footer</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>editor-<wbr></wbr>global-<wbr></wbr>header</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-version%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>editor-<wbr></wbr>version</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="text_.html" title="后退至&quot;7.18 text%&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;The Racket Graphical Interface Toolkit&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="WXME_Decoding.html" title="前进至&quot;9 WXME Decoding&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;scribblings/gui/gui.scrbl&quot;)" x-source-pkg="gui-doc" x-part-tag="&quot;Editor_Functions&quot;">8<tt>&nbsp;</tt><a name="(part._.Editor_.Functions)"></a>Editor Functions</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._add-editor-keymap-functions))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-editor-keymap-functions%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-editor-keymap-functions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keymap</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keymap</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Given a <span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span> object, the keymap is loaded with mappable
 functions that apply to all <span class="RktSym"><a href="editor___.html" class="RktValLink" data-pltdoc="x">editor&lt;%&gt;</a></span> objects:</div></p><ul><li><p><span class="RktVal">"copy-clipboard"</span></p></li><li><p><span class="RktVal">"copy-append-clipboard"</span></p></li><li><p><span class="RktVal">"cut-clipboard"</span></p></li><li><p><span class="RktVal">"cut-append-clipboard"</span></p></li><li><p><span class="RktVal">"paste-clipboard"</span></p></li><li><p><span class="RktVal">"paste-x-selection"</span></p></li><li><p><span class="RktVal">"delete-selection"</span></p></li><li><p><span class="RktVal">"clear-selection"</span></p></li><li><p><span class="RktVal">"undo"</span></p></li><li><p><span class="RktVal">"redo"</span></p></li><li><p><span class="RktVal">"select-all"</span></p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._add-pasteboard-keymap-functions))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-pasteboard-keymap-functions%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-pasteboard-keymap-functions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keymap</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keymap</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Given a <span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span> object, the table is loaded with mappable
 functions that apply to <span class="RktSym"><a href="pasteboard_.html" class="RktValLink" data-pltdoc="x">pasteboard%</a></span> objects. Currently,
 there are no such functions.</div></p><p>See also
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-editor-keymap-functions%29%29" class="RktValLink" data-pltdoc="x">add-editor-keymap-functions</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._add-text-keymap-functions))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-text-keymap-functions%29%29" class="RktValDef RktValLink" data-pltdoc="x">add-text-keymap-functions</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keymap</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keymap</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Given a <span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span> object, the table is loaded with functions
 that apply to all <span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span> objects:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">"forward-character"</span></p></li><li><p><span class="RktVal">"backward-character"</span></p></li><li><p><span class="RktVal">"previous-line"</span></p></li><li><p><span class="RktVal">"next-line"</span></p></li><li><p><span class="RktVal">"previous-page"</span></p></li><li><p><span class="RktVal">"next-page"</span></p></li><li><p><span class="RktVal">"forward-word"</span></p></li><li><p><span class="RktVal">"backward-word"</span></p></li><li><p><span class="RktVal">"forward-select"</span></p></li><li><p><span class="RktVal">"backward-select"</span></p></li><li><p><span class="RktVal">"select-down"</span></p></li><li><p><span class="RktVal">"select-up"</span></p></li><li><p><span class="RktVal">"select-page-up"</span></p></li><li><p><span class="RktVal">"select-page-down"</span></p></li><li><p><span class="RktVal">"forward-select-word"</span></p></li><li><p><span class="RktVal">"backward-select-word"</span></p></li><li><p><span class="RktVal">"beginning-of-file"</span></p></li><li><p><span class="RktVal">"end-of-file"</span></p></li><li><p><span class="RktVal">"beginning-of-line"</span></p></li><li><p><span class="RktVal">"end-of-line"</span></p></li><li><p><span class="RktVal">"select-to-beginning-of-file"</span></p></li><li><p><span class="RktVal">"select-to-end-of-file"</span></p></li><li><p><span class="RktVal">"select-to-beginning-of-line"</span></p></li><li><p><span class="RktVal">"select-to-end-of-line"</span></p></li><li><p><span class="RktVal">"copy-clipboard"</span></p></li><li><p><span class="RktVal">"copy-append-clipboard"</span></p></li><li><p><span class="RktVal">"cut-clipboard"</span></p></li><li><p><span class="RktVal">"cut-append-clipboard"</span></p></li><li><p><span class="RktVal">"paste-clipboard"</span></p></li><li><p><span class="RktVal">"paste-x-selection"</span></p></li><li><p><span class="RktVal">"delete-selection"</span></p></li><li><p><span class="RktVal">"delete-previous-character"</span></p></li><li><p><span class="RktVal">"delete-next-character"</span></p></li><li><p><span class="RktVal">"clear-selection"</span></p></li><li><p><span class="RktVal">"delete-to-end-of-line"</span></p></li><li><p><span class="RktVal">"delete-next-word"</span></p></li><li><p><span class="RktVal">"delete-previous-word"</span></p></li><li><p><span class="RktVal">"delete-line"</span></p></li><li><p><span class="RktVal">"undo"</span></p></li><li><p><span class="RktVal">"redo"</span></p></li></ul></div></p><p>See also
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._add-editor-keymap-functions%29%29" class="RktValLink" data-pltdoc="x">add-editor-keymap-functions</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._append-editor-font-menu-items))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._append-editor-font-menu-items%29%29" class="RktValDef RktValLink" data-pltdoc="x">append-editor-font-menu-items</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">menu</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">menu</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="menu_.html" class="RktValLink" data-pltdoc="x">menu%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="popup-menu_.html" class="RktValLink" data-pltdoc="x">popup-menu%</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Appends menu items to <span class="RktVar">menu</span> to implement a
 standard set of font-manipulation operations, such as changing the
 font face or style. The callback for each menu item uses
<span class="RktSym"><a href="top-level-window___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._top-level-window~3c~25~3e%29._get-edit-target-object%29%29" class="RktValLink" data-pltdoc="x">get-edit-target-object</a></span> in <span class="RktSym"><a href="top-level-window___.html" class="RktValLink" data-pltdoc="x">top-level-window&lt;%&gt;</a></span> (finding the frame by following a chain of parents until a frame is
 reached); if the result is an <span class="RktSym"><a href="editor___.html" class="RktValLink" data-pltdoc="x">editor&lt;%&gt;</a></span> object,
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._change-style%29%29" class="RktValLink" data-pltdoc="x">change-style</a></span> in <span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span> or <span class="RktSym"><a href="pasteboard_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._pasteboard~25%29._change-style%29%29" class="RktValLink" data-pltdoc="x">change-style</a></span> in <span class="RktSym"><a href="pasteboard_.html" class="RktValLink" data-pltdoc="x">pasteboard%</a></span> is called on the editor.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._append-editor-operation-menu-items))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._append-editor-operation-menu-items%29%29" class="RktValDef RktValLink" data-pltdoc="x">append-editor-operation-menu-items</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">menu</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktVar">text-only?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:popup-position</span><span class="hspace">&nbsp;</span><span class="RktVar">popup-position</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">menu</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="menu_.html" class="RktValLink" data-pltdoc="x">menu%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="popup-menu_.html" class="RktValLink" data-pltdoc="x">popup-menu%</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">text-only?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">popup-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._list%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Appends menu items to <span class="RktVar">menu</span> to implement the
 standard editor operations, such as cut and paste. The callback for
 each menu item uses
<span class="RktSym"><a href="top-level-window___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._top-level-window~3c~25~3e%29._get-edit-target-object%29%29" class="RktValLink" data-pltdoc="x">get-edit-target-object</a></span> in <span class="RktSym"><a href="top-level-window___.html" class="RktValLink" data-pltdoc="x">top-level-window&lt;%&gt;</a></span> (finding the frame by following a chain of parents until a frame is
 reached); if the result is an <span class="RktSym"><a href="editor___.html" class="RktValLink" data-pltdoc="x">editor&lt;%&gt;</a></span> object,
<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._do-edit-operation%29%29" class="RktValLink" data-pltdoc="x">do-edit-operation</a></span> in <span class="RktSym"><a href="editor___.html" class="RktValLink" data-pltdoc="x">editor&lt;%&gt;</a></span> is called on the editor.</div></p><p>If <span class="RktVar">text-only?</span> is <span class="RktVal">#f</span>, then menu items that insert
 non-text snips (such as <span class="ssansserif">Insert Image...</span>) are appended to
 the menu.</p><p>If <span class="RktVar">popup-position</span> is not <span class="RktVal">#f</span>, then <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._append-editor-operation-menu-items%29%29" class="RktValLink" data-pltdoc="x">append-editor-operation-menu-items</a></span>
is expected to have been called to build a popup menu and the two elements
of the list should be the <span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span> object where the mouse was clicked
for the popup menu and the position where the click happened. In that case,
the <span class="ssansserif">Copy</span> and <span class="ssansserif">Cut</span> menus are enabled when the click
lands on a snip that is not a <span class="RktSym"><a href="string-snip_.html" class="RktValLink" data-pltdoc="x">string-snip%</a></span>, and the corresponding
callbacks will copy and cut that one snip.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._current-text-keymap-initializer))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._current-text-keymap-initializer%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-text-keymap-initializer</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._current-text-keymap-initializer%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-text-keymap-initializer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Parameter that specifies a keymap-initialization procedure. This
 procedure is called to initialize the keymap of a
 <span class="RktSym"><a href="text-field_.html" class="RktValLink" data-pltdoc="x">text-field%</a></span> object or a <span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span> object created by
 <span class="RktSym"><a href="Windowing_Functions.html#%28def._%28%28lib._mred%2Fmain..rkt%29._graphical-read-eval-print-loop%29%29" class="RktValLink" data-pltdoc="x">graphical-read-eval-print-loop</a></span>.</div></p><p>The initializer takes a keymap object and returns nothing. The default
 initializer chains the given keymap to an internal keymap that
 implements standard text editor keyboard and mouse bindings for cut,
 copy, paste, undo, and select-all. The right mouse button is mapped
 to popup an edit menu when the button is released. On Unix,
 start-of-line (Ctl-A) and end-of-line (Ctl-E) are also mapped.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._editor-set-x-selection-mode))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._editor-set-x-selection-mode%29%29" class="RktValDef RktValLink" data-pltdoc="x">editor-set-x-selection-mode</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">On Unix, editor selections conform to the X11 Windows selection
conventions. If <span class="RktVar">on</span> is
<span class="RktVal">#f</span>, the behavior is switched exclusively to the clipboard-based convention
(where copy must be explicitly requested before a paste).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._get-the-editor-data-class-list))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._get-the-editor-data-class-list%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-the-editor-data-class-list</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-data-class-list___.html" class="RktValLink" data-pltdoc="x">editor-data-class-list&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Gets the editor data class list instance for the current eventspace.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._get-the-snip-class-list))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._get-the-snip-class-list%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-the-snip-class-list</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="snip-class-list___.html" class="RktValLink" data-pltdoc="x">snip-class-list&lt;%&gt;</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Gets the snip class list instance for the current eventspace.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._map-command-as-meta-key))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._map-command-as-meta-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">map-command-as-meta-key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._map-command-as-meta-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">map-command-as-meta-key</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Determines the interpretation of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">m:</span><span class="hspace"></span></span> for a <span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span>
mapping on Mac OS. See also
<span class="RktSym"><a href="keymap_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._keymap~25%29._map-function%29%29" class="RktValLink" data-pltdoc="x">map-function</a></span> in <span class="RktSym"><a href="keymap_.html" class="RktValLink" data-pltdoc="x">keymap%</a></span>.</div></p><p>First case:</p><p>If <span class="RktVar">on?</span> is <span class="RktVal">#t</span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">m:</span><span class="hspace"></span></span> corresponds to the Command key. If
<span class="RktVar">on?</span> is <span class="RktVal">#f</span>, then <span class="RktInBG"><span class="hspace"></span><span class="RktIn">m:</span><span class="hspace"></span></span> corresponds to no key on Mac OS.</p><p>Second case:</p><p>Returns <span class="RktVal">#t</span> if <span class="RktInBG"><span class="hspace"></span><span class="RktIn">m:</span><span class="hspace"></span></span> corresponds to Command,
 <span class="RktVal">#f</span> otherwise.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._open-input-graphical-file))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-graphical-file%29%29" class="RktValDef RktValLink" data-pltdoc="x">open-input-graphical-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">filename</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Opens <span class="RktVar">filename</span> (in <span class="RktVal">'</span><span class="RktVal">binary</span> mode) and checks whether it looks
 like a &ldquo;graphical&rdquo; file in editor format. If the file does not
 appear to be an editor file, the file port is returned with line
 counting enabled. Otherwise, the file is loaded into an editor, and
 the result port is created with
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="RktValLink" data-pltdoc="x">open-input-text-editor</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._open-input-text-editor))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="RktValDef RktValLink" data-pltdoc="x">open-input-text-editor</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">text-editor</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktVar">start-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">end-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">snip-filter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">port-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">expect-to-read-all?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:lock-while-reading?</span><span class="hspace">&nbsp;</span><span class="RktVar">lock-while-reading?</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">input-port</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">text-editor</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">start-position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">end-position</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">end</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">end</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">snip-filter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="snip_.html" class="RktValLink" data-pltdoc="x">snip%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVar">text-editor</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expect-to-read-all?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lock-while-reading?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an input port that draws its content from <span class="RktVar">text-editor</span>.
 The editor content between positions <span class="RktVar">start-position</span> and
 <span class="RktVar">end-position</span> is the content of the port. If <span class="RktVar">end-position</span>
 is <span class="RktVal">'</span><span class="RktVal">end</span>, the content runs until the end of the editor. If a
 snip that is not a <span class="RktSym"><a href="string-snip_.html" class="RktValLink" data-pltdoc="x">string-snip%</a></span> object spans
 <span class="RktVar">start-position</span> or <span class="RktVar">end-position</span>, the entire snip
 contributes to the port. If a <span class="RktSym"><a href="string-snip_.html" class="RktValLink" data-pltdoc="x">string-snip%</a></span> instance spans
 <span class="RktVar">start-position</span>, only the part of the snip after
 <span class="RktVar">start-position</span> contributes, and if a <span class="RktSym"><a href="string-snip_.html" class="RktValLink" data-pltdoc="x">string-snip%</a></span>
 object spans <span class="RktVar">end-position</span>, only the part before
 <span class="RktVar">end-position</span> contributes.</div></p><p>An instance of <span class="RktSym"><a href="string-snip_.html" class="RktValLink" data-pltdoc="x">string-snip%</a></span> in <span class="RktVar">text-editor</span> generates
 a character sequence in the resulting port. All other kinds of snips
 are passed to <span class="RktVar">snip-filter</span> to obtain a &ldquo;special&rdquo; value for
 the port.  If a snip is returned as the first result from
 <span class="RktVar">snip-filter</span>, and if the snip is an instance of
 <span class="RktSym"><a href="readable-snip___.html" class="RktValLink" data-pltdoc="x">readable-snip&lt;%&gt;</a></span>, the snip generates a special value for the
 port through the <span class="RktSym"><a href="readable-snip___.html#%28meth._%28%28%28lib._racket%2Fsnip..rkt%29._readable-snip~3c~25~3e%29._read-special%29%29" class="RktValLink" data-pltdoc="x">read-special</a></span> method. If
 <span class="RktVar">snip-filter</span> returns any other kind of snip, it is copied for
 the special result. Finally, a non-snip first result from
 <span class="RktVar">snip-filter</span> is used directly as the special result.</p><p>The <span class="RktVar">port-name</span> argument is used for the input port&rsquo;s name. The
 <span class="RktVar">expect-to-read-all?</span> argument is a performance hint; use
 <span class="RktVal">#t</span> if the entire port&rsquo;s stream will be read.</p><p>The result port must not be used if <span class="RktVar">text-editor</span> changes in any
 of the following ways: a snip is inserted (see
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._after-insert%29%29" class="RktValLink" data-pltdoc="x">after-insert</a></span>), a snip is deleted  (see
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._after-delete%29%29" class="RktValLink" data-pltdoc="x">after-delete</a></span>), a snip is split  (see
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._after-split-snip%29%29" class="RktValLink" data-pltdoc="x">after-split-snip</a></span>), snips are merged  (see
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._after-merge-snips%29%29" class="RktValLink" data-pltdoc="x">after-merge-snips</a></span>), or a snip changes its count (which is rare; see
<span class="RktSym"><a href="snip-admin_.html#%28meth._%28%28%28lib._racket%2Fsnip..rkt%29._snip-admin~25%29._recounted%29%29" class="RktValLink" data-pltdoc="x">recounted</a></span>). The
<span class="RktSym"><a href="text_.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._text~25%29._get-revision-number%29%29" class="RktValLink" data-pltdoc="x">get-revision-number</a></span> method can be used to detect any of these changes.</p><p>To help guard against such uses, if <span class="RktVar">lock-while-reading?</span> argument is
a true value, then <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="RktValLink" data-pltdoc="x">open-input-text-editor</a></span> will
<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._lock%29%29" class="RktValLink" data-pltdoc="x">lock</a></span> the <span class="RktVar">text-editor</span> and call
<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._begin-edit-sequence%29%29" class="RktValLink" data-pltdoc="x">begin-edit-sequence</a></span>
before it returns and un<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._lock%29%29" class="RktValLink" data-pltdoc="x">lock</a></span> it and
call <span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._end-edit-sequence%29%29" class="RktValLink" data-pltdoc="x">end-edit-sequence</a></span>
after it is safe to use the above methods. (In some
cases, it will not <span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._lock%29%29" class="RktValLink" data-pltdoc="x">lock</a></span> the editor
or put it in an edit sequence at all,
if using those methods are always safe.)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._open-output-text-editor))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-output-text-editor%29%29" class="RktValDef RktValLink" data-pltdoc="x">open-output-text-editor</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">text-editor</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktVar">start-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">special-filter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">port-name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:eventspace</span><span class="hspace">&nbsp;</span><span class="RktVar">eventspace</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym">output-port</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">text-editor</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">start-position</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-nonnegative-integer%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one/of</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">end</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">end</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">special-filter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVar">text-editor</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eventspace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Windowing_Functions.html#%28def._%28%28lib._mred%2Fmain..rkt%29._eventspace~3f%29%29" class="RktValLink" data-pltdoc="x">eventspace?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Windowing_Functions.html#%28def._%28%28lib._mred%2Fmain..rkt%29._current-eventspace%29%29" class="RktValLink" data-pltdoc="x">current-eventspace</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an output port that delivers its content to <span class="RktVar">text-editor</span>.
 The content is written to <span class="RktVar">text-editor</span> starting at the position
 <span class="RktVar">start-position</span>, where <span class="RktVal">'</span><span class="RktVal">end</span> indicates that output should
 start at the text editor&rsquo;s current end position.</div></p><p>If <span class="RktVar">special-filter</span> is provided, it is applied to any value
 written to the port with <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Byte_and_String_Output.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write-special%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">write-special</a></span>, and the result is
 inserted in its place. If a special value is a <span class="RktSym"><a href="snip_.html" class="RktValLink" data-pltdoc="x">snip%</a></span>
 object, it is inserted into the editor. Otherwise, the special value
 is <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._display%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">display</a></span>ed into the editor.</p><p>If line counting is enabled for the resulting output port, then the
 port will report the line, offset from the line&rsquo;s start, and position
 within the editor at which the port writes data.</p><p>If <span class="RktVar">eventspace</span> is not <span class="RktVal">#f</span>, then when the output port
 is used in a thread other than <span class="RktVar">eventspace</span>&rsquo;s handler thread,
 content is delivered to <span class="RktVar">text-editor</span> through a low-priority
 callback in <span class="RktVar">eventspace</span>.  Thus, if <span class="RktVar">eventspace</span>
 corresponds to the eventspace for the editor&rsquo;s <a href="editor-overview.html#%28tech._display%29" class="techoutside" data-pltdoc="x"><span class="techinside">displays</span></a>,
 writing to the output port is safe from any thread.</p><p>If <span class="RktVar">eventspace</span> is <span class="RktVal">#f</span>, beware that the port is only
 weakly thread-safe. Content is delivered to <span class="RktVar">text-editor</span> in
 an <a href="editor-overview.html#%28tech._edit._sequence%29" class="techoutside" data-pltdoc="x"><span class="techinside">edit sequence</span></a>, but an edit sequence is not enough
 synchronization if, for example, the editor is displayed in an
 enabled <span class="RktSym"><a href="editor-canvas_.html" class="RktValLink" data-pltdoc="x">editor-canvas%</a></span>. See <a href="editor-overview.html#%28part._editorthreads%29" data-pltdoc="x">Editors and Threads</a> for
 more information.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._read-editor-global-footer))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-editor-global-footer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-in_.html" class="RktValLink" data-pltdoc="x">editor-stream-in%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">See
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-header</a></span>. Call
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-footer</a></span> even if
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-header</a></span> returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._read-editor-global-header))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-editor-global-header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-in_.html" class="RktValLink" data-pltdoc="x">editor-stream-in%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Reads data from <span class="RktVar">in</span> to initialize for reading editors from the
stream. The return value is <span class="RktVal">#t</span> if the read succeeds, or <span class="RktVal">#f</span>
otherwise.</div></p><p>One or more editors can be read from the stream by calling
the editor&rsquo;s
<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._read-from-file%29%29" class="RktValLink" data-pltdoc="x">read-from-file</a></span> method. (The number of editors to be
read must be known by the application beforehand.) When all editors
are read, call
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-footer</a></span>. Calls to
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-header</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-footer</a></span> must bracket any call to
<span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._read-from-file%29%29" class="RktValLink" data-pltdoc="x">read-from-file</a></span>, and only one stream at a time
can be read using these methods or written using
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-header</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-footer</a></span>.</p><p>When reading from streams that span Racket versions, use
<span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-version%29%29" class="RktValLink" data-pltdoc="x">read-editor-version</a></span> before this procedure.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._read-editor-version))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-version%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-editor-version</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">in-base</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">parse-format?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktVar">raise-errors?</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-in_.html" class="RktValLink" data-pltdoc="x">editor-stream-in%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in-base</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-in-base_.html" class="RktValLink" data-pltdoc="x">editor-stream-in-base%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parse-format?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">raise-errors?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Reads version information from <span class="RktVar">in-base</span>, where <span class="RktVar">in-base</span> is
 the base for <span class="RktVar">in</span>. The version information parsed from
 <span class="RktVar">in-base</span> is recorded in <span class="RktVar">in</span> for later version-sensitive
 parsing. The procedure result is true if the version information was
 read successfully and if the version is supported.</div></p><p>If <span class="RktVar">parse-format?</span> is true, then <span class="RktVar">in-base</span> is checked for an
 initial <span class="RktVal">"WXME"</span> format indicator. Use <span class="RktVal">#f</span> when
 <span class="RktVal">"WXME"</span> has been consumed already by format-dispatching code.</p><p>If <span class="RktVar">raise-errors?</span> is true, then an error in reading triggers an
 exception, instead of a <span class="RktVal">#f</span> result.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._text-editor-load-handler))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._text-editor-load-handler%29%29" class="RktValDef RktValLink" data-pltdoc="x">text-editor-load-handler</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktVar">filename</span>]</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">expected-module-name</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expected-module-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This procedure is a load handler for use with <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-load%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-load</a></span>.</div></p><p>The handler recognizes Racket editor-format files (see
 <a href="editor-overview.html#%28part._editorfileformat%29" data-pltdoc="x">File Format</a>) and decodes them for loading. It is
 normally installed as GRacket starts (see <a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=running-sa.html&amp;version=7.0.0.18" class="Sq" data-pltdoc="x">Running Racket or GRacket</a>).</p><p>The handler recognizes editor files by the first twelve characters of
 the file: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">WXME01</span><span class="hspace"></span></span><span class="sroman">&#8249;<span style="font-family: 楷体">digit</span>&#8250;</span><span class="sroman">&#8249;<span style="font-family: 楷体">digit</span>&#8250;</span><span class="RktInBG"><span class="hspace">&nbsp;</span><span class="RktIn">##</span><span class="hspace">&nbsp;</span></span>.
 Such a file is opened for loading by creating a <span class="RktSym"><a href="text_.html" class="RktValLink" data-pltdoc="x">text%</a></span>
 object, loading the file into the object with <span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._insert-file%29%29" class="RktValLink" data-pltdoc="x">insert-file</a></span>, and then converting the editor content into a port with
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="RktValLink" data-pltdoc="x">open-input-text-editor</a></span>. After obtaining a port in this way,
 the content is read in essentially the same way as by the default
 Racket load handler. The difference is that the editor may contain
 instances of <span class="RktSym"><a href="readable-snip___.html" class="RktValLink" data-pltdoc="x">readable-snip&lt;%&gt;</a></span>, which are &ldquo;read&rdquo; though the
 snips&rsquo; <span class="RktSym"><a href="readable-snip___.html#%28meth._%28%28%28lib._racket%2Fsnip..rkt%29._readable-snip~3c~25~3e%29._read-special%29%29" class="RktValLink" data-pltdoc="x">read-special</a></span> method; see
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._open-input-text-editor%29%29" class="RktValLink" data-pltdoc="x">open-input-text-editor</a></span> for details.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20540;</p></div></div><p class="RForeground"><a name="(def._((lib._mred/main..rkt)._the-editor-wordbreak-map))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._the-editor-wordbreak-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">the-editor-wordbreak-map</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-wordbreak-map_.html" class="RktValLink" data-pltdoc="x">editor-wordbreak-map%</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">See <span class="RktSym"><a href="editor-wordbreak-map_.html" class="RktValLink" data-pltdoc="x">editor-wordbreak-map%</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20540;</p></div></div><p class="RForeground"><a name="(def._((lib._mred/main..rkt)._the-style-list))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._the-style-list%29%29" class="RktValDef RktValLink" data-pltdoc="x">the-style-list</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="style-list_.html" class="RktValLink" data-pltdoc="x">style-list%</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">See <span class="RktSym"><a href="style-list_.html" class="RktValLink" data-pltdoc="x">style-list%</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._write-editor-global-footer))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-editor-global-footer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-out_.html" class="RktValLink" data-pltdoc="x">editor-stream-out%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">See <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-header</a></span>. Call
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-footer</a></span> even if
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-header</a></span> returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._write-editor-global-header))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-editor-global-header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-out_.html" class="RktValLink" data-pltdoc="x">editor-stream-out%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Writes data to <span class="RktVar">out</span>, initializing it for writing editors to
 the stream. The return value is <span class="RktVal">#t</span> if the write succeeds, or
 <span class="RktVal">#f</span> otherwise.</div></p><p>One or more editors can be written to the stream by calling the
 editor&rsquo;s <span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._write-to-file%29%29" class="RktValLink" data-pltdoc="x">write-to-file</a></span> method. When all editors
 are written, call <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-footer</a></span>. Calls to
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-header</a></span> and
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">write-editor-global-footer</a></span> must bracket any call to
 <span class="RktSym"><a href="editor___.html#%28meth._%28%28%28lib._mred%2Fmain..rkt%29._editor~3c~25~3e%29._write-to-file%29%29" class="RktValLink" data-pltdoc="x">write-to-file</a></span>, and only one stream at a time can
 be written using these methods or read using
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-header%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-header</a></span> and
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._read-editor-global-footer%29%29" class="RktValLink" data-pltdoc="x">read-editor-global-footer</a></span>.</p><p>To support streams that span Racket versions, use
 <span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-version%29%29" class="RktValLink" data-pltdoc="x">write-editor-version</a></span> before this procedure.</p><p>See also <a href="editor-overview.html#%28part._editorfileformat%29" data-pltdoc="x">File Format</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mred/main..rkt)._write-editor-version))"></a><span title="提供自：racket/gui/base、racket/gui | 包：gui-lib"><span class="RktSym"><a href="#%28def._%28%28lib._mred%2Fmain..rkt%29._write-editor-version%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-editor-version</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span><span class="RktVar">out-base</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-out_.html" class="RktValLink" data-pltdoc="x">editor-stream-out%</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out-base</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="editor-stream-out-base_.html" class="RktValLink" data-pltdoc="x">editor-stream-out-base%</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Writes version information to <span class="RktVar">out-base</span> in preparation for
 writing editor information to the stream <span class="RktVar">out</span>.</div></p><p>The <span class="RktVar">out</span> argument is currently not used, but <span class="RktVar">out-base</span>
 should be the base for <span class="RktVar">out</span>. In the future, <span class="RktVar">out</span> may record
 information about the version for later version-sensitive output.</p><p>The result is <span class="RktVal">#t</span> if the write succeeded, <span class="RktVal">#f</span> otherwise.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="text_.html" title="后退至&quot;7.18 text%&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;The Racket Graphical Interface Toolkit&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="WXME_Decoding.html" title="前进至&quot;9 WXME Decoding&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>