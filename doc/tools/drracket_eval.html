<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>21&nbsp;drracket:eval</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Dr<span class="mywbr"> &nbsp;</span>Racket Plugins</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="lang-languages-customization.html" class="tocviewlink" data-pltdoc="x">Dr<span class="mywbr"> &nbsp;</span>Racket support for <span class="stt">#lang</span>-<wbr></wbr>based Languages</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="implementing-tools.html" class="tocviewlink" data-pltdoc="x">Implementing Dr<span class="mywbr"> &nbsp;</span>Racket Plugins</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="adding-languages.html" class="tocviewlink" data-pltdoc="x">Adding Languages to Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Creating_New_Kinds_of_DrRacket_Frames.html" class="tocviewlink" data-pltdoc="x">Creating New Kinds of Dr<span class="mywbr"> &nbsp;</span>Racket Frames</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Extending_the_Existing_DrRacket_Classes.html" class="tocviewlink" data-pltdoc="x">Extending the Existing Dr<span class="mywbr"> &nbsp;</span>Racket Classes</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Expanding_and_Breaking.html" class="tocviewlink" data-pltdoc="x">Expanding the User&rsquo;s Program Text and Breaking</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Editor_Modes.html" class="tocviewlink" data-pltdoc="x">Editor Modes</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Plugin_Capabilities.html" class="tocviewlink" data-pltdoc="x">Plugin Capabilities</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Check_Syntax.html" class="tocviewlink" data-pltdoc="x">Check Syntax</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="Cooperating_with_Background_Check_Syntax.html" class="tocviewlink" data-pltdoc="x">Cooperating with Background Check Syntax</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Teaching_Languages.html" class="tocviewlink" data-pltdoc="x">Teaching Languages</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Signatures.html" class="tocviewlink" data-pltdoc="x">Signatures</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="drracket_get_extend.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>get/<span class="mywbr"> &nbsp;</span>extend</span></a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="drracket_unit.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>unit</span></a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="drracket_language.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>language</span></a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="drracket_language-configuration.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>language-<wbr></wbr>configuration</span></a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="drracket_debug.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>debug</span></a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="drracket_rep.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>rep</span></a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="drracket_frame.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>frame</span></a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="drracket_help-desk.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>help-<wbr></wbr>desk</span></a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>eval</span></a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="drracket_modes.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>modes</span></a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="drracket_module-language-tools.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>module-<wbr></wbr>language-<wbr></wbr>tools</span></a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="drracket_module-language.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>module-<wbr></wbr>language</span></a></td></tr><tr><td align="right">25&nbsp;</td><td><a href="drracket_tracing.html" class="tocviewlink" data-pltdoc="x"><span class="stt">drracket:<span class="mywbr"> &nbsp;</span>tracing</span></a></td></tr><tr><td align="right">26&nbsp;</td><td><a href="Backwards_Compatibility.html" class="tocviewlink" data-pltdoc="x">Backwards Compatibility</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">在本页中：</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aset-basic-parameters%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>set-<wbr></wbr>basic-<wbr></wbr>parameters</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aget-snip-classes%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>get-<wbr></wbr>snip-<wbr></wbr>classes</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>expand-<wbr></wbr>program</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3atraverse-program%2Fmultiple%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>traverse-<wbr></wbr>program/<span class="mywbr"> &nbsp;</span>multiple</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%2Fmultiple%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>expand-<wbr></wbr>program/<span class="mywbr"> &nbsp;</span>multiple</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">drracket:<span class="mywbr"> &nbsp;</span>eval:<span class="mywbr"> &nbsp;</span>build-<wbr></wbr>user-<wbr></wbr>eventspace/<span class="mywbr"> &nbsp;</span>custodian</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="drracket_help-desk.html" title="后退至&quot;20 drracket:help-desk&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;DrRacket Plugins&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="drracket_modes.html" title="前进至&quot;22 drracket:modes&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;scribblings/tools/tools.scrbl&quot;)" x-source-pkg="drracket" x-part-tag="&quot;drracket:eval&quot;">21<tt>&nbsp;</tt><a name="(part._drracket~3aeval)"></a><span class="stt">drracket:eval</span></h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3aset-basic-parameters))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aset-basic-parameters%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:set-basic-parameters</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">snipclasses</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:gui-modules?</span><span class="hspace">&nbsp;</span><span class="RktVar">gui-modules</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">snipclasses</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=gui&amp;rel=snip-class_.html&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">snip-class%</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gui-modules</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Sets the parameters that are shared between the repl&rsquo;s
initialization and <span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:build-user-eventspace/custodian</a></span>.</div></p><p><div class="SIntrapara">Specifically, it sets these parameters:
</div><div class="SIntrapara"><ul><li><p><div class="SIntrapara"><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Namespaces.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-namespace%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-namespace</a></span> has been set to a newly
 created empty namespace. This namespace has the following modules
 shared (with <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Namespaces.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._namespace-attach-module%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">namespace-attach-module</a></span>)
 from DrRacket&rsquo;s original namespace:
 </div><div class="SIntrapara"><ul><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a></p></li><li><p><span class="RktVal">'</span><span class="RktVal">#%foreign</span></p></li><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mzlib&amp;rel=mzlib_pconvert-prop.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">mzlib/pconvert-prop</span></a></p></li><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=planet&amp;rel=Utility_Libraries.html%23%2528mod-path._planet%252Fterse-info%2529&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">planet/terse-info</span></a></p></li></ul></div><div class="SIntrapara">If the <span class="RktSym">gui-modules?</span> parameter is a true value, then
 these modules are also shared:
 </div><div class="SIntrapara"><ul><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=scheme&amp;rel=mred.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">mred/mred</span></a></p></li><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mrlib&amp;rel=Cache-image_Snip.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">mrlib/cache-image-snip</span></a></p></li><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mrlib&amp;rel=Image_Core.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">mrlib/image-core</span></a></p></li><li><p><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=mrlib&amp;rel=Matrix_Snip.html&amp;version=7.0.0.18" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">mrlib/matrix-snip</span></a></p></li></ul></div></p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read-curly-brace-as-paren%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">read-curly-brace-as-paren</a></span>
 is <span class="RktVal">#t</span>; </p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read-square-bracket-as-paren%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">read-square-bracket-as-paren</a></span>
 is <span class="RktVal">#t</span>;</p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._error-print-width%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">error-print-width</a></span> is set to 250;</p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=draw&amp;rel=Drawing_Functions.html%23%2528def._%2528%2528lib._racket%252Fdraw..rkt%2529._current-ps-setup%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-ps-setup</a></span>
 is set to a newly created
 <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=draw&amp;rel=ps-setup_.html&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">ps-setup%</a></span>
 object;</p></li><li><p>the <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Exiting.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exit-handler%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">exit-handler</a></span> is set to
    a parameter that kills the user&rsquo;s custodian; and</p></li><li><p>the snip-class-list, returned by
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=gui&amp;rel=Editor_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._get-the-snip-class-list%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">get-the-snip-class-list</a></span>
is initialized with all of the snipclasses in DrRacket&rsquo;s eventspace&rsquo;s
snip-class-list.</p></li></ul></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3aget-snip-classes))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aget-snip-classes%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:get-snip-classes</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=gui&amp;rel=snip-class_.html&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">snip-class%</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list of all of the snipclasses in the current eventspace.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3aexpand-program))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:expand-program</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">input</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">language-settings</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">eval-compile-time-part?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">kill-termination</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">iter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:gui-modules?</span><span class="hspace">&nbsp;</span><span class="RktVar">gui-modules?</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage~3atext%2Fpos~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language:text/pos?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language-settings</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3alanguage-settings~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:language-settings?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eval-compile-time-part?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kill-termination</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">iter</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eof-object%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">eof-object?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gui-modules?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Use this function to expand the contents of the definitions
window for use with external program processing tools.</div></p><p>This function uses
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:build-user-eventspace/custodian</a></span>
to build the user&rsquo;s environment.
The arguments <span class="RktVar">language-settings</span>, <span class="RktVar">init</span>,
<span class="RktVar">kill-termination</span>, and <span class="RktVar">gui-modules?</span> are passed to
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:build-user-eventspace/custodian</a></span>.</p><p>The <span class="RktVar">input</span> argument specifies the source of the program.</p><p>The <span class="RktVar">eval-compile-time-part?</span> argument indicates if
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Expanding_Top-Level_Forms.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._expand%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">expand</a></span>
is called or if
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=syntax&amp;rel=toplevel.html%23%2528def._%2528%2528lib._syntax%252Ftoplevel..rkt%2529._expand-top-level-with-compile-time-evals%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">expand-top-level-with-compile-time-evals</a></span>
is called when the program is expanded.
Roughly speaking, if your tool will evaluate each expression
itself by calling
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eval%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">eval</a></span>
then pass <span class="RktVal">#f</span>. Otherwise, if your tool
just processes the expanded program, be sure to pass
<span class="RktVal">#t</span>.</p><p>This function calls
<span class="RktSym"><a href="drracket_language.html#%28meth._%28%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage~3alanguage~3c~25~3e%29._front-end%2Fcomplete-program%29%29" class="RktValLink" data-pltdoc="x">front-end/complete-program</a></span>
to expand the program. Unlike when the <span class="ssansserif">Run</span> is clicked,
however, it does not call
<span class="RktSym"><a href="drracket_language.html#%28meth._%28%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage~3alanguage~3c~25~3e%29._front-end%2Ffinished-complete-program%29%29" class="RktValLink" data-pltdoc="x">front-end/finished-complete-program</a></span>.</p><p>The first argument to <span class="RktVar">iter</span> is the expanded program
(represented as syntax) or eof.
The <span class="RktVar">iter</span> argument is called for each expression in the
expanded program and once more with eof, unless an error is
raised during expansion.
It is called from the user&rsquo;s thread.
If an exception is raised during expansion of the
user&rsquo;s program, <span class="RktVar">iter</span> is not called.
Consider setting the exception-handler during <span class="RktVar">init</span> to
handle this situation.</p><p>The second argument to <span class="RktVar">iter</span> is a thunk that
continues expanding the rest of the contents of the
definitions window. If the first argument to <span class="RktVar">iter</span> was
eof, this argument is just the primitive
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void</a></span>.</p><p><div class="SIntrapara">See also
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%2Fmultiple%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:expand-program/multiple</a></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3atraverse-program/multiple))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3atraverse-program%2Fmultiple%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:traverse-program/multiple</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">language-settings</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">kill-termination</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:gui-modules?</span><span class="hspace">&nbsp;</span><span class="RktVar">gui-modules</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage~3atext%2Fpos~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language:text/pos?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eof-object%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">eof-object?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language-settings</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3alanguage-settings~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:language-settings?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kill-termination</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gui-modules</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">This function is similar to
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%2Fmultiple%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:expand-program/multiple</a></span>
The only difference is that it does not
expand the program in the editor; instead
the processing function can decide how to
expand the program.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3aexpand-program/multiple))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%2Fmultiple%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:expand-program/multiple</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">language-settings</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">eval-compile-time-part?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">kill-termination</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:gui-modules?</span><span class="hspace">&nbsp;</span><span class="RktVar">gui-modules?</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage~3atext%2Fpos~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language:text/pos?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eof-object%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">eof-object?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language-settings</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3alanguage-settings~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:language-settings?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eval-compile-time-part?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kill-termination</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gui-modules?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">This function is just like
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aexpand-program%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:expand-program</a></span>
except that it is curried and the second application
can be used multiple times.
Use this function if you want to initialize the user&rsquo;s
thread (and namespace, etc) once but have program text
that comes from multiple sources.</div></p><p><div class="SIntrapara">The extra boolean argument to the result function
determines if
<span class="RktSym">drracket:language:language</span><span class="stt"> </span><span class="RktSym">front-end/complete-program&lt;%&gt;</span>
or
<span class="RktSym">drracket:language:language</span><span class="stt"> </span><span class="RktSym">front-end/interaction&lt;%&gt;</span>
is called.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>&#20989;&#25968;</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top" colspan="3"><span class="RktPn">(</span><a name="(def._((lib._drracket/tool-lib..rkt)._drracket~3aeval~3abuild-user-eventspace/custodian))"></a><span title="提供自：drracket/tool-lib、drracket/tool、drscheme/tool-lib、drscheme/tool | 包：drracket"><span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="RktValDef RktValLink" data-pltdoc="x">drracket:eval:build-user-eventspace/custodian</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">language-settings</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">init</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">kill-termination</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:gui-modules?</span><span class="hspace">&nbsp;</span><span class="RktVar">gui-modules?</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._eventspace%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">eventspace?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._custodian%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">custodian?</a></span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language-settings</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3alanguage-settings~3f%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:language-settings?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kill-termination</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.0.0.18" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">gui-modules?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">This function creates a custodian and an eventspace (on the
new custodian) to expand the user&rsquo;s program. It does not
kill this custodian, but it can safely be shutdown (with
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._custodian-shutdown-all%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">custodian-shutdown-all</a></span>) after the
expansion is finished.</div></p><p><div class="SIntrapara">It initializes the
user&rsquo;s eventspace&rsquo;s main thread with several parameters:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=custodians.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-custodian%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-custodian</a></span> is set to a new custodian.</p></li><li><p>In addition, it calls
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3aset-basic-parameters%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:set-basic-parameters</a></span>,
passing the <span class="RktPn">#:gui-modules?</span> parameter along.</p></li></ul></div></p><p>The <span class="RktVar">language-settings</span> argument is the current
language and its settings. See
<span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3alanguage-settings%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:language-settings</a></span>
for details on that structure.</p><p>If the program is associated with a DrRacket
frame, get the frame&rsquo;s language settings from the
<span class="RktSym"><a href="drracket_unit.html#%28meth._%28%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aunit~3adefinitions-text~3c~25~3e%29._get-next-settings%29%29" class="RktValLink" data-pltdoc="x">get-next-settings</a></span>
method of
<span class="RktSym"><a href="drracket_unit.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aunit~3adefinitions-text~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">drracket:unit:definitions-text&lt;%&gt;</a></span>.  Also, the most recently chosen language in
the language dialog is saved via the framework&rsquo;s
preferences. Apply
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=framework&amp;rel=Preferences__Textual.html%23%2528def._%2528%2528lib._framework%252Fpreferences..rkt%2529._preferences%7E3aget%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">preferences:get</a></span>
to
<span class="RktSym"><a href="drracket_language-configuration.html#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3alanguage-configuration~3aget-settings-preferences-symbol%29%29" class="RktValLink" data-pltdoc="x">drracket:language-configuration:get-settings-preferences-symbol</a></span>
for that <span class="RktVar">language-settings</span>.</p><p>The <span class="RktVar">init</span> argument is called after the user&rsquo;s parameters
are all set, but before the program is run. It is called on
the user&rsquo;s thread. The
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-directory%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-directory</a></span> and
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=eval.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._current-load-relative-directory%2529%2529&amp;version=7.0.0.18" class="RktValLink Sq" data-pltdoc="x">current-load-relative-directory</a></span>
parameters are not set, so if there are appropriate directories,
the <span class="RktVar">init</span> argument is a good place to set them.</p><p>The <span class="RktVar">kill-termination</span> argument is called when the main thread of
the eventspace terminates, no matter if the custodian was
shutdown, or the thread was killed. This procedure is also
called when the thread terminates normally. This procedure is
called from a new, dedicated thread (<span style="font-family: 楷体">i. e.</span>, not the thread
created to do the expansion, nor the thread that
<span class="RktSym"><a href="#%28def._%28%28lib._drracket%2Ftool-lib..rkt%29._drracket~3aeval~3abuild-user-eventspace%2Fcustodian%29%29" class="RktValLink" data-pltdoc="x">drracket:eval:build-user-eventspace/custodian</a></span> was called from.)</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="…搜索手册…" title="输入搜索字符串以搜索手册" onkeypress="return DoSearchKey(event, this, &quot;7.0.0.18&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;…搜索手册…&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;…搜索手册…&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="上至文档的顶层" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.0.0.18&quot;);">&#39030;&#23618;</a></span><span class="navright">&nbsp;&nbsp;<a href="drracket_help-desk.html" title="后退至&quot;20 drracket:help-desk&quot;" data-pltdoc="x">&larr; &#21069;&#19968;&#39029;</a>&nbsp;&nbsp;<a href="index.html" title="上至&quot;DrRacket Plugins&quot;" data-pltdoc="x">&#19978;&#19968;&#23618;</a>&nbsp;&nbsp;<a href="drracket_modes.html" title="前进至&quot;22 drracket:modes&quot;" data-pltdoc="x">&#21518;&#19968;&#39029; &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>